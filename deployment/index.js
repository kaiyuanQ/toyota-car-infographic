var Fa=Object.defineProperty;var Ma=(t,e,n)=>e in t?Fa(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ur=(t,e,n)=>(Ma(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Ie(){}const ar=t=>t;function Pa(t,e){for(const n in e)t[n]=e[n];return t}function ms(t){return t()}function pi(){return Object.create(null)}function ot(t){t.forEach(ms)}function Vt(t){return typeof t=="function"}function Ft(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let mn;function Ye(t,e){return t===e?!0:(mn||(mn=document.createElement("a")),mn.href=e,t===mn.href)}function Ia(t,e){return t!=t?e==e:t!==e}function Ea(t){return Object.keys(t).length===0}function _i(t,e,n,r){if(t){const i=ys(t,e,n,r);return t[0](i)}}function ys(t,e,n,r){return t[1]&&r?Pa(n.ctx.slice(),t[1](r(e))):n.ctx}function vi(t,e,n,r){if(t[2]&&r){const i=t[2](r(n));if(e.dirty===void 0)return i;if(typeof i=="object"){const o=[],s=Math.max(e.dirty.length,i.length);for(let a=0;a<s;a+=1)o[a]=e.dirty[a]|i[a];return o}return e.dirty|i}return e.dirty}function mi(t,e,n,r,i,o){if(i){const s=ys(e,n,r,o);t.p(s,i)}}function yi(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function bs(t){return t&&Vt(t.destroy)?t.destroy:Ie}const ws=typeof window<"u";let zr=ws?()=>window.performance.now():()=>Date.now(),Wr=ws?t=>requestAnimationFrame(t):Ie;const Tt=new Set;function ks(t){Tt.forEach(e=>{e.c(t)||(Tt.delete(e),e.f())}),Tt.size!==0&&Wr(ks)}function Gr(t){let e;return Tt.size===0&&Wr(ks),{promise:new Promise(n=>{Tt.add(e={c:t,f:n})}),abort(){Tt.delete(e)}}}const Ss=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function m(t,e){t.appendChild(e)}function xs(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Ra(t){const e=w("style");return e.textContent="/* empty */",$a(xs(t),e),e.sheet}function $a(t,e){return m(t.head||t,e),e.sheet}function N(t,e,n){t.insertBefore(e,n||null)}function T(t){t.parentNode&&t.parentNode.removeChild(t)}function Be(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function w(t){return document.createElement(t)}function ue(t){return document.createTextNode(t)}function A(){return ue(" ")}function Ut(){return ue("")}function it(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function b(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function It(t,e,n){e in t?t[e]=typeof t[e]=="boolean"&&n===""?!0:n:b(t,e,n)}function Ca(t){return Array.from(t.childNodes)}function _e(t,e){e=""+e,t.data!==e&&(t.data=e)}function Je(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}let yn;function Oa(){if(yn===void 0){yn=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{yn=!0}}return yn}function Aa(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const r=w("iframe");r.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),r.setAttribute("aria-hidden","true"),r.tabIndex=-1;const i=Oa();let o;return i?(r.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=it(window,"message",s=>{s.source===r.contentWindow&&e()})):(r.src="about:blank",r.onload=()=>{o=it(r.contentWindow,"resize",e),e()}),m(t,r),()=>{(i||o&&r.contentWindow)&&o(),T(r)}}function bi(t,e,n){t.classList.toggle(e,!!n)}function Ta(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}const jn=new Map;let Hn=0;function Na(t){let e=5381,n=t.length;for(;n--;)e=(e<<5)-e^t.charCodeAt(n);return e>>>0}function Da(t,e){const n={stylesheet:Ra(e),rules:{}};return jn.set(t,n),n}function Vn(t,e,n,r,i,o,s,a=0){const l=16.666/r;let u=`{
`;for(let y=0;y<=1;y+=l){const v=e+(n-e)*o(y);u+=y*100+`%{${s(v,1-v)}}
`}const c=u+`100% {${s(n,1-n)}}
}`,f=`__svelte_${Na(c)}_${a}`,d=xs(t),{stylesheet:g,rules:p}=jn.get(d)||Da(d,t);p[f]||(p[f]=!0,g.insertRule(`@keyframes ${f} ${c}`,g.cssRules.length));const h=t.style.animation||"";return t.style.animation=`${h?`${h}, `:""}${f} ${r}ms linear ${i}ms 1 both`,Hn+=1,f}function Un(t,e){const n=(t.style.animation||"").split(", "),r=n.filter(e?o=>o.indexOf(e)<0:o=>o.indexOf("__svelte")===-1),i=n.length-r.length;i&&(t.style.animation=r.join(", "),Hn-=i,Hn||La())}function La(){Wr(()=>{Hn||(jn.forEach(t=>{const{ownerNode:e}=t.stylesheet;e&&T(e)}),jn.clear())})}let ln;function nn(t){ln=t}function Ba(){if(!ln)throw new Error("Function called outside component initialization");return ln}function lr(t){Ba().$$.on_mount.push(t)}const Rt=[],rt=[];let Nt=[];const yr=[],qa=Promise.resolve();let br=!1;function ja(){br||(br=!0,qa.then(Fs))}function Ue(t){Nt.push(t)}function bn(t){yr.push(t)}const cr=new Set;let Et=0;function Fs(){if(Et!==0)return;const t=ln;do{try{for(;Et<Rt.length;){const e=Rt[Et];Et++,nn(e),Ha(e.$$)}}catch(e){throw Rt.length=0,Et=0,e}for(nn(null),Rt.length=0,Et=0;rt.length;)rt.pop()();for(let e=0;e<Nt.length;e+=1){const n=Nt[e];cr.has(n)||(cr.add(n),n())}Nt.length=0}while(Rt.length);for(;yr.length;)yr.pop()();br=!1,cr.clear(),nn(t)}function Ha(t){if(t.fragment!==null){t.update(),ot(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ue)}}function Va(t){const e=[],n=[];Nt.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Nt=e}let Qt;function Yr(){return Qt||(Qt=Promise.resolve(),Qt.then(()=>{Qt=null})),Qt}function yt(t,e,n){t.dispatchEvent(Ta(`${e?"intro":"outro"}${n}`))}const Cn=new Set;let Qe;function un(){Qe={r:0,c:[],p:Qe}}function cn(){Qe.r||ot(Qe.c),Qe=Qe.p}function te(t,e){t&&t.i&&(Cn.delete(t),t.i(e))}function ke(t,e,n,r){if(t&&t.o){if(Cn.has(t))return;Cn.add(t),Qe.c.push(()=>{Cn.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}const Jr={duration:0};function Ua(t,e,n){const r={direction:"in"};let i=e(t,n,r),o=!1,s,a,l=0;function u(){s&&Un(t,s)}function c(){const{delay:d=0,duration:g=300,easing:p=ar,tick:h=Ie,css:y}=i||Jr;y&&(s=Vn(t,0,1,g,d,p,y,l++)),h(0,1);const v=zr()+d,C=v+g;a&&a.abort(),o=!0,Ue(()=>yt(t,!0,"start")),a=Gr(R=>{if(o){if(R>=C)return h(1,0),yt(t,!0,"end"),u(),o=!1;if(R>=v){const M=p((R-v)/g);h(M,1-M)}}return o})}let f=!1;return{start(){f||(f=!0,Un(t),Vt(i)?(i=i(r),Yr().then(c)):c())},invalidate(){f=!1},end(){o&&(u(),o=!1)}}}function Ms(t,e,n){const r={direction:"out"};let i=e(t,n,r),o=!0,s;const a=Qe;a.r+=1;let l;function u(){const{delay:c=0,duration:f=300,easing:d=ar,tick:g=Ie,css:p}=i||Jr;p&&(s=Vn(t,1,0,f,c,d,p));const h=zr()+c,y=h+f;Ue(()=>yt(t,!1,"start")),"inert"in t&&(l=t.inert,t.inert=!0),Gr(v=>{if(o){if(v>=y)return g(0,1),yt(t,!1,"end"),--a.r||ot(a.c),!1;if(v>=h){const C=d((v-h)/f);g(1-C,C)}}return o})}return Vt(i)?Yr().then(()=>{i=i(r),u()}):u(),{end(c){c&&"inert"in t&&(t.inert=l),c&&i.tick&&i.tick(1,0),o&&(s&&Un(t,s),o=!1)}}}function wi(t,e,n,r){let o=e(t,n,{direction:"both"}),s=r?0:1,a=null,l=null,u=null,c;function f(){u&&Un(t,u)}function d(p,h){const y=p.b-s;return h*=Math.abs(y),{a:s,b:p.b,d:y,duration:h,start:p.start,end:p.start+h,group:p.group}}function g(p){const{delay:h=0,duration:y=300,easing:v=ar,tick:C=Ie,css:R}=o||Jr,M={start:zr()+h,b:p};p||(M.group=Qe,Qe.r+=1),"inert"in t&&(p?c!==void 0&&(t.inert=c):(c=t.inert,t.inert=!0)),a||l?l=M:(R&&(f(),u=Vn(t,s,p,y,h,v,R)),p&&C(0,1),a=d(M,y),Ue(()=>yt(t,p,"start")),Gr(x=>{if(l&&x>l.start&&(a=d(l,y),l=null,yt(t,a.b,"start"),R&&(f(),u=Vn(t,s,a.b,a.duration,0,v,o.css))),a){if(x>=a.end)C(s=a.b,1-s),yt(t,a.b,"end"),l||(a.b?f():--a.group.r||ot(a.group.c)),a=null;else if(x>=a.start){const q=x-a.start;s=a.a+a.d*v(q/a.duration),C(s,1-s)}}return!!(a||l)}))}return{run(p){Vt(o)?Yr().then(()=>{o=o({direction:p?"in":"out"}),g(p)}):g(p)},end(){f(),a=l=null}}}function X(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function wn(t,e,n){const r=t.$$.props[e];r!==void 0&&(t.$$.bound[r]=n,n(t.$$.ctx[r]))}function rn(t){t&&t.c()}function Dt(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Ue(()=>{const o=t.$$.on_mount.map(ms).filter(Vt);t.$$.on_destroy?t.$$.on_destroy.push(...o):ot(o),t.$$.on_mount=[]}),i.forEach(Ue)}function Lt(t,e){const n=t.$$;n.fragment!==null&&(Va(n.after_update),ot(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function za(t,e){t.$$.dirty[0]===-1&&(Rt.push(t),ja(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function zt(t,e,n,r,i,o,s,a=[-1]){const l=ln;nn(t);const u=t.$$={fragment:null,ctx:[],props:o,update:Ie,not_equal:i,bound:pi(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(l?l.$$.context:[])),callbacks:pi(),dirty:a,skip_bound:!1,root:e.target||l.$$.root};s&&s(u.root);let c=!1;if(u.ctx=n?n(t,e.props||{},(f,d,...g)=>{const p=g.length?g[0]:d;return u.ctx&&i(u.ctx[f],u.ctx[f]=p)&&(!u.skip_bound&&u.bound[f]&&u.bound[f](p),c&&za(t,f)),d}):[],u.update(),c=!0,ot(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const f=Ca(e.target);u.fragment&&u.fragment.l(f),f.forEach(T)}else u.fragment&&u.fragment.c();e.intro&&te(t.$$.fragment),Dt(t,e.target,e.anchor),Fs()}nn(l)}class Wt{constructor(){ur(this,"$$");ur(this,"$$set")}$destroy(){Lt(this,1),this.$destroy=Ie}$on(e,n){if(!Vt(n))return Ie;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Ea(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Wa="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(Wa);const{window:Ps}=Ss,Ga=t=>({}),ki=t=>({}),Ya=t=>({}),Si=t=>({});function Ja(t){let e,n,r,i,o,s,a,l,u;Ue(t[21]);const c=t[20].background,f=_i(c,t,t[19],Si),d=t[20].foreground,g=_i(d,t,t[19],ki);return{c(){e=w("svelte-scroller-outer"),n=w("svelte-scroller-background-container"),r=w("svelte-scroller-background"),f&&f.c(),o=A(),s=w("svelte-scroller-foreground"),g&&g.c(),It(r,"class","svelte-xdbafy"),It(n,"class","background-container svelte-xdbafy"),It(n,"style",i=""+(t[5]+t[4])),It(s,"class","svelte-xdbafy"),It(e,"class","svelte-xdbafy")},m(p,h){N(p,e,h),m(e,n),m(n,r),f&&f.m(r,null),t[22](r),m(e,o),m(e,s),g&&g.m(s,null),t[23](s),t[24](e),a=!0,l||(u=it(Ps,"resize",t[21]),l=!0)},p(p,h){f&&f.p&&(!a||h[0]&524288)&&mi(f,c,p,p[19],a?vi(c,p[19],h,Ya):yi(p[19]),Si),(!a||h[0]&48&&i!==(i=""+(p[5]+p[4])))&&It(n,"style",i),g&&g.p&&(!a||h[0]&524288)&&mi(g,d,p,p[19],a?vi(d,p[19],h,Ga):yi(p[19]),ki)},i(p){a||(te(f,p),te(g,p),a=!0)},o(p){ke(f,p),ke(g,p),a=!1},d(p){p&&T(e),f&&f.d(p),t[22](null),g&&g.d(p),t[23](null),t[24](null),l=!1,u()}}}const We=[];let zn;if(typeof window<"u"){const t=()=>We.forEach(e=>e());window.addEventListener("scroll",t),window.addEventListener("resize",t)}if(typeof IntersectionObserver<"u"){const t=new Map,e=new IntersectionObserver((n,r)=>{n.forEach(i=>{const o=t.get(i.target),s=We.indexOf(o);i.isIntersecting?s===-1&&We.push(o):(o(),s!==-1&&We.splice(s,1))})},{rootMargin:"400px 0px"});zn={add:({outer:n,update:r})=>{const{top:i,bottom:o}=n.getBoundingClientRect();i<window.innerHeight&&o>0&&We.push(r),t.set(n,r),e.observe(n)},remove:({outer:n,update:r})=>{const i=We.indexOf(r);i!==-1&&We.splice(i,1),t.delete(n),e.unobserve(n)}}}else zn={add:({update:t})=>{We.push(t)},remove:({update:t})=>{const e=We.indexOf(t);e!==-1&&We.splice(e,1)}};function Qa(t,e,n){let r,i,o,s,a,{$$slots:l={},$$scope:u}=e,{top:c=0}=e,{bottom:f=1}=e,{threshold:d=.5}=e,{query:g="section"}=e,{parallax:p=!1}=e,{index:h=0}=e,{count:y=0}=e,{offset:v=0}=e,{progress:C=0}=e,{visible:R=!1}=e,M,x,q,H,E,Y=0,L,P=0,U=1;lr(()=>{E=x.querySelectorAll(g),n(7,y=E.length),z();const $={outer:M,update:z};return zn.add($),()=>zn.remove($)});function z(){if(!x)return;const $=M.getBoundingClientRect();H=$.left,n(18,U=$.right-H);const B=x.getBoundingClientRect(),xe=q.getBoundingClientRect();n(10,R=B.top<Y&&B.bottom>0);const Ee=B.bottom-B.top,K=xe.bottom-xe.top,se=i-r;n(9,C=(r-B.top)/(Ee-se)),C<=0?(n(17,P=0),n(16,L=!1)):C>=1?(n(17,P=p?Ee-K:Ee-se),n(16,L=!1)):(n(17,P=p?Math.round(r-C*(K-se)):r),n(16,L=!0));for(let Z=0;Z<E.length;Z++){const me=E[Z],{top:Re}=me.getBoundingClientRect(),Fe=E[Z+1],st=Fe?Fe.getBoundingClientRect().top:B.bottom;if(n(8,v=(o-Re)/(st-Re)),st>=o){n(6,h=Z);break}}}function W(){n(0,Y=Ps.innerHeight)}function oe($){rt[$?"unshift":"push"](()=>{q=$,n(3,q)})}function ve($){rt[$?"unshift":"push"](()=>{x=$,n(2,x)})}function he($){rt[$?"unshift":"push"](()=>{M=$,n(1,M)})}return t.$$set=$=>{"top"in $&&n(11,c=$.top),"bottom"in $&&n(12,f=$.bottom),"threshold"in $&&n(13,d=$.threshold),"query"in $&&n(14,g=$.query),"parallax"in $&&n(15,p=$.parallax),"index"in $&&n(6,h=$.index),"count"in $&&n(7,y=$.count),"offset"in $&&n(8,v=$.offset),"progress"in $&&n(9,C=$.progress),"visible"in $&&n(10,R=$.visible),"$$scope"in $&&n(19,u=$.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2049&&(r=Math.round(c*Y)),t.$$.dirty[0]&4097&&(i=Math.round(f*Y)),t.$$.dirty[0]&8193&&(o=Math.round(d*Y)),t.$$.dirty[0]&47104&&z(),t.$$.dirty[0]&196608&&n(5,s=`
		position: ${L?"fixed":"absolute"};
		top: 0;
		transform: translate(0, ${P}px);
		z-index: 1;
	`),t.$$.dirty[0]&327680&&n(4,a=L?`width:${U}px;`:"")},[Y,M,x,q,a,s,h,y,v,C,R,c,f,d,g,p,L,P,U,u,l,W,oe,ve,he]}class Xa extends Wt{constructor(e){super(),zt(this,e,Qa,Ja,Ft,{top:11,bottom:12,threshold:13,query:14,parallax:15,index:6,count:7,offset:8,progress:9,visible:10},null,[-1,-1])}}const xi={facebook:t=>`https://www.facebook.com/sharer/sharer.php?u=${t.url}${t.hashtags?`&hashtag=%23${t.hashtags.split("%2C")[0]}`:""}`,linkedin:t=>`https://www.linkedin.com/sharing/share-offsite/?url=${t.url}`,mastodon:t=>`https://toot.kytta.dev/?text=${t.title}%0D%0A${t.url}${t.text?`%0D%0A%0D%0A${t.text}`:""}${t.via?`%0D%0A%0D%0A${t.via}`:""}`,messenger:t=>`https://www.facebook.com/dialog/send?app_id=${t.fbAppId}&link=${t.url}&redirect_uri=${t.url}`,odnoklassniki:t=>`https://connect.ok.ru/offer?url=${t.url}&title=${t.title}${t.media?`&imageUrl=${t.media}`:""}`,pinterest:t=>`https://pinterest.com/pin/create/button/?url=${t.url}&description=${t.title}${t.media?`&media=${t.media}`:""}`,pocket:t=>`https://getpocket.com/edit.php?url=${t.url}`,reddit:t=>`https://www.reddit.com/submit?title=${t.title}&url=${t.url}`,teams:t=>`https://teams.microsoft.com/share?href=${t.url}${t.text?`&msgText=${t.text}`:""}`,telegram:t=>`https://telegram.me/share/url?url=${t.url}${t.text?`&text=${t.text}`:""}`,tumblr:t=>`https://www.tumblr.com/widgets/share/tool?posttype=link${t.hashtags?`&tags=${t.hashtags}`:""}&title=${t.title}&content=${t.url}&canonicalUrl=${t.url}${t.text?`&caption=${t.text}`:""}${t.via?`&show-via=${t.via}`:""}`,twitter:t=>`https://twitter.com/intent/tweet?url=${t.url}&text=${t.title}${t.via?`&via=${t.via}`:""}${t.hashtags?`&hashtags=${t.hashtags}`:""}`,viber:t=>`viber://forward?text=${t.title}%0D%0A${t.url}${t.text?`%0D%0A%0D%0A${t.text}`:""}`,vkontakte:t=>`https://vk.com/share.php?url=${t.url}&title=${t.title}${t.media?`&image=${t.media}`:""}`,whatsapp:t=>`https://wa.me/?text=${t.title}%0D%0A${t.url}${t.text?`%0D%0A%0D%0A${t.text}`:""}`},Ka=t=>()=>{window.open(t,"_blank","noopener,noreferrer")},Is=()=>{const t=document.querySelectorAll(".shareon");for(const e of t)for(const n of e.children)if(n){const r=n.classList.length;for(let i=0;i<r;i+=1){const o=n.classList.item(i);if(o==="copy-url"&&n.addEventListener("click",()=>{const s=n.dataset.url||e.dataset.url||window.location.href;navigator.clipboard.writeText(s),n.classList.add("done"),setTimeout(()=>{n.classList.remove("done")},1e3)}),o==="web-share"){const s={title:n.dataset.title||e.dataset.title||document.title,text:n.dataset.text||e.dataset.text||"",url:n.dataset.url||e.dataset.url||window.location.href};navigator.canShare&&navigator.canShare(s)?n.addEventListener("click",()=>{navigator.share(s)}):n.style.display="none"}if(Object.prototype.hasOwnProperty.call(xi,o)){const s={url:encodeURIComponent(n.dataset.url||e.dataset.url||window.location.href),title:encodeURIComponent(n.dataset.title||e.dataset.title||document.title),media:encodeURIComponent(n.dataset.media||e.dataset.media||""),text:encodeURIComponent(n.dataset.text||e.dataset.text||""),via:encodeURIComponent(n.dataset.via||e.dataset.via||""),hashtags:encodeURIComponent(n.dataset.hashtags||e.dataset.hashtags||""),fbAppId:encodeURIComponent(n.dataset.fbAppId||e.dataset.fbAppId||"")},a=xi[o](s);n.tagName.toLowerCase()==="a"?(n.setAttribute("href",a),n.setAttribute("rel","noopener noreferrer"),n.setAttribute("target","_blank")):n.addEventListener("click",Ka(a));break}}}},Fi=document.currentScript;Fi&&Fi.hasAttribute("init")&&Is();function Za(t){let e,n,r,i,o,s,a,l,u,c,f,d,g,p;return{c(){e=w("div"),n=w("div"),r=w("div"),i=w("button"),o=A(),s=w("div"),a=w("div"),l=w("a"),u=A(),c=w("a"),f=A(),d=w("a"),b(i,"class","btlogo"),b(r,"class","logos-container"),b(l,"class","facebook"),b(l,"href",window.location.href),b(c,"class","twitter"),b(c,"href",window.location.href),b(d,"class","linkedin"),b(d,"href",window.location.href),b(a,"class","shareon"),b(a,"data-url",window.location.href),b(s,"class","share-button-container"),b(n,"class","header-bar"),b(e,"class","header-container"),b(e,"id","header-container")},m(h,y){N(h,e,y),m(e,n),m(n,r),m(r,i),m(n,o),m(n,s),m(s,a),m(a,l),m(a,u),m(a,c),m(a,f),m(a,d),g||(p=it(i,"click",t[1]),g=!0)},p:Ie,i:Ie,o:Ie,d(h){h&&T(e),g=!1,p()}}}function el(t){lr(()=>{Is()});const e=()=>{window.open("https://www.businesstimes.com.sg/")};return[e,()=>e()]}class tl extends Wt{constructor(e){super(),zt(this,e,el,Za,Ft,{})}}function nl(t){let e,n,r=t[0].footer.desc+"",i;return{c(){e=w("div"),n=w("div"),i=ue(r),b(n,"class","footer-bar"),b(e,"class","footer-container"),b(e,"id","footer-container")},m(o,s){N(o,e,s),m(e,n),m(n,i)},p(o,[s]){s&1&&r!==(r=o[0].footer.desc+"")&&_e(i,r)},i:Ie,o:Ie,d(o){o&&T(e)}}}function rl(t,e,n){let{label:r={}}=e;return t.$$set=i=>{"label"in i&&n(0,r=i.label)},[r]}class il extends Wt{constructor(e){super(),zt(this,e,rl,nl,Ft,{label:0})}}function Mi(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function O(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Mi(Object(n),!0).forEach(function(r){F(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Mi(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function wr(t){return wr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wr(t)}function re(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Pi(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function ie(t,e,n){return e&&Pi(t.prototype,e),n&&Pi(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Es(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kr(t,e)}function Wn(t){return Wn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Wn(t)}function kr(t,e){return kr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},kr(t,e)}function ol(t,e){if(t==null)return{};var n,r,i=function(s,a){if(s==null)return{};var l,u,c={},f=Object.keys(s);for(u=0;u<f.length;u++)l=f[u],a.indexOf(l)>=0||(c[l]=s[l]);return c}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sl(t,e){if(e&&(typeof e=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}(t)}function Rs(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var n,r=Wn(t);if(e){var i=Wn(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return sl(this,n)}}function je(t,e){return function(n){if(Array.isArray(n))return n}(t)||function(n,r){var i=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(i!=null){var o,s,a=[],l=!0,u=!1;try{for(i=i.call(n);!(l=(o=i.next()).done)&&(a.push(o.value),!r||a.length!==r);l=!0);}catch(c){u=!0,s=c}finally{try{l||i.return==null||i.return()}finally{if(u)throw s}}return a}}(t,e)||Qr(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Sr(t){return function(e){if(Array.isArray(e))return xr(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||Qr(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Qr(t,e){if(t){if(typeof t=="string")return xr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?xr(t,e):void 0}}function xr(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kt(t,e){var n=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=Qr(t))||e&&t&&typeof t.length=="number"){n&&(t=n);var r=0,i=function(){};return{s:i,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(l){throw l},f:i}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var o,s=!0,a=!1;return{s:function(){n=n.call(t)},n:function(){var l=n.next();return s=l.done,l},e:function(l){a=!0,o=l},f:function(){try{s||n.return==null||n.return()}finally{if(a)throw o}}}}var St={DEBUG:!1,LIB_VERSION:"1.94.1"},al=Array.isArray,$s=Object.prototype,Cs=$s.hasOwnProperty,pn=$s.toString,pe=al||function(t){return pn.call(t)==="[object Array]"},Ii=function(t){return pn.call(t)==="[object Uint8Array]"},Ve=function(t){return typeof t=="function"},dt=function(t){return t===Object(t)&&!pe(t)},ll=function(t){if(dt(t)){for(var e in t)if(Cs.call(t,e))return!1;return!0}return!1},V=function(t){return t===void 0},De=function(t){return pn.call(t)=="[object String]"},qe=function(t){return t===null},nt=function(t){return pn.call(t)=="[object Number]"},Fr=function(t){return pn.call(t)==="[object Boolean]"},Os=Array.prototype,Ei=Os.forEach,Ri=Os.indexOf,_=typeof window<"u"?window:void 0,$i=_==null?void 0:_.navigator,I=_==null?void 0:_.document,fe=$i==null?void 0:$i.userAgent,Se=_??{},Ci="[PostHog.js]",S={_log:function(t){if(_&&(St.DEBUG||Se.POSTHOG_DEBUG)&&!V(_.console)&&_.console){for(var e=("__rrweb_original__"in _.console[t])?_.console[t].__rrweb_original__:_.console[t],n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];e.apply(void 0,[Ci].concat(r))}},info:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];S._log.apply(S,["log"].concat(e))},warn:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];S._log.apply(S,["warn"].concat(e))},error:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];S._log.apply(S,["error"].concat(e))},critical:function(){for(var t,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];(t=console).error.apply(t,[Ci].concat(n))},uninitializedWarning:function(t){S.error("You must initialize PostHog before calling ".concat(t))}},Xr={},Gn=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};function Bt(t,e,n){if(pe(t)){if(Ei&&t.forEach===Ei)t.forEach(e,n);else if("length"in t&&t.length===+t.length){for(var r=0,i=t.length;r<i;r++)if(r in t&&e.call(n,t[r],r)===Xr)return}}}function J(t,e,n){if(!qe(t)&&!V(t)){if(pe(t))return Bt(t,e,n);for(var r in t)if(Cs.call(t,r)&&e.call(n,t[r],r)===Xr)return}}var ye=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Bt(n,function(i){for(var o in i)i[o]!==void 0&&(t[o]=i[o])}),t};function G(t,e){return t.indexOf(e)!==-1}function On(t){for(var e=Object.keys(t),n=e.length,r=new Array(n);n--;)r[n]=[e[n],t[e[n]]];return r}var As=function(){return Date.now=Date.now||function(){return+new Date},Date.now()},Oi=function(t){try{return t()}catch{return}},Ts=function(t){return function(){try{for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.apply(this,n)}catch(i){S.critical("Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A."),S.critical(i)}}},Mr=function(t){var e={};return J(t,function(n,r){De(n)&&n.length>0&&(e[r]=n)}),e},ul=["$performance_raw"];function cl(t,e){return n=t,r=function(o,s){return s&&ul.indexOf(s)>-1?o:De(o)&&!qe(e)?o.slice(0,e):o},i=new Set,function o(s,a){return s!==Object(s)?r?r(s,a):s:i.has(s)?void 0:(i.add(s),pe(s)?(l=[],Bt(s,function(u){l.push(o(u))})):(l={},J(s,function(u,c){i.has(u)||(l[c]=o(u,c))})),l);var l}(n);var n,r,i}function Kr(t){var e,n,r,i,o,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",a=0,l=0,u="",c=[];if(!t)return t;t=fl(t);do e=(o=t.charCodeAt(a++)<<16|t.charCodeAt(a++)<<8|t.charCodeAt(a++))>>18&63,n=o>>12&63,r=o>>6&63,i=63&o,c[l++]=s.charAt(e)+s.charAt(n)+s.charAt(r)+s.charAt(i);while(a<t.length);switch(u=c.join(""),t.length%3){case 1:u=u.slice(0,-2)+"==";break;case 2:u=u.slice(0,-1)+"="}return u}var fl=function(t){var e,n,r,i,o="";for(e=n=0,r=(t=(t+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`)).length,i=0;i<r;i++){var s=t.charCodeAt(i),a=null;s<128?n++:a=s>127&&s<2048?String.fromCharCode(s>>6|192,63&s|128):String.fromCharCode(s>>12|224,s>>6&63|128,63&s|128),qe(a)||(n>e&&(o+=t.substring(e,n)),o+=a,e=n=i+1)}return n>e&&(o+=t.substring(e,t.length)),o},on=function(){function t(e){return e&&(e.preventDefault=t.preventDefault,e.stopPropagation=t.stopPropagation),e}return t.preventDefault=function(){this.returnValue=!1},t.stopPropagation=function(){this.cancelBubble=!0},function(e,n,r,i,o){if(e)if(e.addEventListener&&!i)e.addEventListener(n,r,!!o);else{var s="on"+n,a=e[s];e[s]=function(l,u,c){return function(f){if(f=f||t(_==null?void 0:_.event)){var d,g=!0;Ve(c)&&(d=c(f));var p=u.call(l,f);return d!==!1&&p!==!1||(g=!1),g}}}(e,r,a)}else S.error("No valid element provided to register_event")}}();function sn(t,e){var n=function(){if(!I)return e("document not found");var r=I.createElement("script");r.type="text/javascript",r.src=t,r.onload=function(s){return e(void 0,s)},r.onerror=function(s){return e(s)};var i,o=I.querySelectorAll("body > script");o.length>0?(i=o[0].parentNode)===null||i===void 0||i.insertBefore(r,o[0]):I.body.appendChild(r)};I!=null&&I.body?n():I==null||I.addEventListener("DOMContentLoaded",n)}function Zr(t){return t?Gn(t).split(/\s+/):[]}function Yn(t){var e="";switch(wr(t.className)){case"string":e=t.className;break;case"object":e=("baseVal"in t.className?t.className.baseVal:null)||t.getAttribute("class")||"";break;default:e=""}return Zr(e)}function Jn(t){var e="";return An(t)&&!Ds(t)&&t.childNodes&&t.childNodes.length&&J(t.childNodes,function(n){Ns(n)&&n.textContent&&(e+=Gn(n.textContent).split(/(\s+)/).filter($t).join("").replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255))}),Gn(e)}function Ai(t){return!!t&&t.nodeType===1}function bt(t,e){return!!t&&!!t.tagName&&t.tagName.toLowerCase()===e.toLowerCase()}function Ns(t){return!!t&&t.nodeType===3}function Ti(t){return!!t&&t.nodeType===11}var fr=["a","button","form","input","select","textarea","label"];function An(t){for(var e=t;e.parentNode&&!bt(e,"body");e=e.parentNode){var n=Yn(e);if(G(n,"ph-sensitive")||G(n,"ph-no-capture"))return!1}if(G(Yn(t),"ph-include"))return!0;var r=t.type||"";if(De(r))switch(r.toLowerCase()){case"hidden":case"password":return!1}var i=t.name||t.id||"";return!(De(i)&&/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(i.replace(/[^a-zA-Z0-9]/g,"")))}function Ds(t){return!!(bt(t,"input")&&!["button","checkbox","submit","reset"].includes(t.type)||bt(t,"select")||bt(t,"textarea")||t.getAttribute("contenteditable")==="true")}function $t(t){return!(qe(t)||V(t)||De(t)&&(t=Gn(t),/^(?:(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11}))$/.test((t||"").replace(/[- ]/g,""))||/(^\d{3}-?\d{2}-?\d{4}$)/.test(t)))}function Ni(t){var e=Jn(t);return $t(e="".concat(e," ").concat(Ls(t)).trim())?e:""}function Ls(t){var e="";return t&&t.childNodes&&t.childNodes.length&&J(t.childNodes,function(n){var r;if(n&&((r=n.tagName)===null||r===void 0?void 0:r.toLowerCase())==="span")try{var i=Jn(n);e="".concat(e," ").concat(i).trim(),n.childNodes&&n.childNodes.length&&(e="".concat(e," ").concat(Ls(n)).trim())}catch(o){S.error(o)}}),e}function dl(t){return function(e){var n=e.map(function(r){var i,o,s="";if(r.tag_name&&(s+=r.tag_name),r.attr_class){r.attr_class.sort();var a,l=kt(r.attr_class);try{for(l.s();!(a=l.n()).done;){var u=a.value;s+=".".concat(u.replace(/"/g,""))}}catch(d){l.e(d)}finally{l.f()}}var c=O(O(O(O({},r.text?{text:r.text}:{}),{},{"nth-child":(i=r.nth_child)!==null&&i!==void 0?i:0,"nth-of-type":(o=r.nth_of_type)!==null&&o!==void 0?o:0},r.href?{href:r.href}:{}),r.attr_id?{attr_id:r.attr_id}:{}),r.attributes),f={};return On(c).sort(function(d,g){var p=je(d,1)[0],h=je(g,1)[0];return p.localeCompare(h)}).forEach(function(d){var g=je(d,2),p=g[0],h=g[1];return f[Di(p.toString())]=Di(h.toString())}),s+=":",s+=On(c).map(function(d){var g=je(d,2),p=g[0],h=g[1];return"".concat(p,'="').concat(h,'"')}).join("")});return n.join(";")}(function(e){return e.map(function(n){var r,i,o={text:(r=n.$el_text)===null||r===void 0?void 0:r.slice(0,400),tag_name:n.tag_name,href:(i=n.attr__href)===null||i===void 0?void 0:i.slice(0,2048),attr_class:hl(n),attr_id:n.attr__id,nth_child:n.nth_child,nth_of_type:n.nth_of_type,attributes:{}};return On(n).filter(function(s){return je(s,1)[0].indexOf("attr__")===0}).forEach(function(s){var a=je(s,2),l=a[0],u=a[1];return o.attributes[l]=u}),o})}(t))}function Di(t){return t.replace(/"|\\"/g,'\\"')}function hl(t){var e=t.attr__class;return e?pe(e)?e:Zr(e):void 0}var gl=function(){function t(e){re(this,t),this.clicks=[],this.enabled=e}return ie(t,[{key:"isRageClick",value:function(e,n,r){if(!this.enabled)return!1;var i=this.clicks[this.clicks.length-1];if(i&&Math.abs(e-i.x)+Math.abs(n-i.y)<30&&r-i.timestamp<1e3){if(this.clicks.push({x:e,y:n,timestamp:r}),this.clicks.length===3)return!0}else this.clicks=[{x:e,y:n,timestamp:r}];return!1}}]),t}(),Bs="$people_distinct_id",Tn="__alias",Zt="__timers",Li="$autocapture_disabled_server_side",Pr="$session_recording_enabled_server_side",Bi="$console_log_recording_enabled_server_side",qi="$session_recording_recorder_version_server_side",ji="$session_recording_network_payload_capture",Qn="$sesid",Nn="$session_is_sampled",Ct="$enabled_feature_flags",Ir="$early_access_features",Ot="$stored_person_properties",ct="$stored_group_properties",Er="$surveys",Xn="$flag_call_reported",Rr="$user_state",$r="$posthog_quota_limited",Cr="$client_session_props",pl=[Bs,Tn,"__cmpns",Zt,Pr,Qn,Ct,Rr,$r,Ir,ct,Ot,Er,Xn,Cr];function dr(t,e){return e.length>t?e.slice(0,t)+"...":e}var ft={_initializedTokens:[],_isDisabledServerSide:null,_isAutocaptureEnabled:!1,_setIsAutocaptureEnabled:function(t){var e,n=qe(this._isDisabledServerSide)?!((e=t.persistence)===null||e===void 0||!e.props[Li]):this._isDisabledServerSide,r=!!t.config.autocapture;this._isAutocaptureEnabled=r&&!n},_previousElementSibling:function(t){if(t.previousElementSibling)return t.previousElementSibling;var e=t;do e=e.previousSibling;while(e&&!Ai(e));return e},_getAugmentPropertiesFromElement:function(t){if(!An(t))return{};var e={};return J(t.attributes,function(n){if(n.name.indexOf("data-ph-capture-attribute")===0){var r=n.name.replace("data-ph-capture-attribute-",""),i=n.value;r&&i&&$t(i)&&(e[r]=i)}}),e},_getPropertiesFromElement:function(t,e,n){var r,i=t.tagName.toLowerCase(),o={tag_name:i};fr.indexOf(i)>-1&&!n&&(i.toLowerCase()==="a"||i.toLowerCase()==="button"?o.$el_text=dr(1024,Ni(t)):o.$el_text=dr(1024,Jn(t)));var s=Yn(t);s.length>0&&(o.classes=s.filter(function(f){return f!==""}));var a=(r=this.config)===null||r===void 0?void 0:r.element_attribute_ignorelist;J(t.attributes,function(f){var d;if((!Ds(t)||["name","id","class"].indexOf(f.name)!==-1)&&(a==null||!a.includes(f.name))&&!e&&$t(f.value)&&(d=f.name,!De(d)||d.substring(0,10)!=="_ngcontent"&&d.substring(0,7)!=="_nghost")){var g=f.value;f.name==="class"&&(g=Zr(g).join()),o["attr__"+f.name]=dr(1024,g)}});for(var l=1,u=1,c=t;c=this._previousElementSibling(c);)l++,c.tagName===t.tagName&&u++;return o.nth_child=l,o.nth_of_type=u,o},_getDefaultProperties:function(t){return{$event_type:t,$ce_version:1}},_extractCustomPropertyValue:function(t){var e=[];return J(I==null?void 0:I.querySelectorAll(t.css_selector),function(n){var r;["input","select"].indexOf(n.tagName.toLowerCase())>-1?r=n.value:n.textContent&&(r=n.textContent),$t(r)&&e.push(r)}),e.join(", ")},_getCustomProperties:function(t){var e=this,n={};return J(this._customProperties,function(r){J(r.event_selectors,function(i){J(I==null?void 0:I.querySelectorAll(i),function(o){G(t,o)&&An(o)&&(n[r.name]=e._extractCustomPropertyValue(r))})})}),n},_getEventTarget:function(t){return V(t.target)?t.srcElement||null:(e=t.target)!==null&&e!==void 0&&e.shadowRoot?t.composedPath()[0]||null:t.target||null;var e},_captureEvent:function(t,e){var n,r=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"$autocapture",o=this._getEventTarget(t);if(Ns(o)&&(o=o.parentNode||null),i==="$autocapture"&&t.type==="click"&&t instanceof MouseEvent&&(n=this.rageclicks)!==null&&n!==void 0&&n.isRageClick(t.clientX,t.clientY,new Date().getTime())&&this._captureEvent(t,e,"$rageclick"),o&&function(h,y){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!_||!h||bt(h,"html")||!Ai(h))return!1;if(v!=null&&v.url_allowlist){var C=_.location.href,R=v.url_allowlist;if(R&&!R.some(function(W){return C.match(W)}))return!1}if(v!=null&&v.dom_event_allowlist){var M=v.dom_event_allowlist;if(M&&!M.some(function(W){return y.type===W}))return!1}if(v!=null&&v.element_allowlist){var x=v.element_allowlist;if(x&&!x.some(function(W){return h.tagName.toLowerCase()===W}))return!1}if(v!=null&&v.css_selector_allowlist){var q=v.css_selector_allowlist;if(q&&!q.some(function(W){return h.matches(W)}))return!1}for(var H=!1,E=[h],Y=!0,L=h;L.parentNode&&!bt(L,"body");)if(Ti(L.parentNode))E.push(L.parentNode.host),L=L.parentNode.host;else{if(!(Y=L.parentNode||!1))break;if(fr.indexOf(Y.tagName.toLowerCase())>-1)H=!0;else{var P=_.getComputedStyle(Y);P&&P.getPropertyValue("cursor")==="pointer"&&(H=!0)}E.push(Y),L=Y}var U=_.getComputedStyle(h);if(U&&U.getPropertyValue("cursor")==="pointer"&&y.type==="click")return!0;var z=h.tagName.toLowerCase();switch(z){case"html":return!1;case"form":return y.type==="submit";case"input":case"select":case"textarea":return y.type==="change"||y.type==="click";default:return H?y.type==="click":y.type==="click"&&(fr.indexOf(z)>-1||h.getAttribute("contenteditable")==="true")}}(o,t,this.config)){for(var s,a,l=[o],u=o;u.parentNode&&!bt(u,"body");)Ti(u.parentNode)?(l.push(u.parentNode.host),u=u.parentNode.host):(l.push(u.parentNode),u=u.parentNode);var c,f=[],d={},g=!1;if(J(l,function(h){var y=An(h);h.tagName.toLowerCase()==="a"&&(c=h.getAttribute("href"),c=y&&$t(c)&&c),G(Yn(h),"ph-no-capture")&&(g=!0),f.push(r._getPropertiesFromElement(h,e.config.mask_all_element_attributes,e.config.mask_all_text));var v=r._getAugmentPropertiesFromElement(h);ye(d,v)}),e.config.mask_all_text||(o.tagName.toLowerCase()==="a"||o.tagName.toLowerCase()==="button"?f[0].$el_text=Ni(o):f[0].$el_text=Jn(o)),c&&(f[0].attr__href=c),g)return!1;var p=ye(this._getDefaultProperties(t.type),e.elementsChainAsString?{$elements_chain:dl(f)}:{$elements:f},(s=f[0])!==null&&s!==void 0&&s.$el_text?{$el_text:(a=f[0])===null||a===void 0?void 0:a.$el_text}:{},this._getCustomProperties(l),d);return e.capture(i,p),!0}},_navigate:function(t){_&&(_.location.href=t)},_addDomEventHandlers:function(t){var e=this;if(_&&I){var n=function(r){r=r||(_==null?void 0:_.event),e._captureEvent(r,t)};on(I,"submit",n,!1,!0),on(I,"change",n,!1,!0),on(I,"click",n,!1,!0)}},_customProperties:[],rageclicks:null,config:void 0,init:function(t){var e;Fr(t.__autocapture)||(this.config=t.__autocapture),(e=this.config)!==null&&e!==void 0&&e.url_allowlist&&(this.config.url_allowlist=this.config.url_allowlist.map(function(n){return new RegExp(n)})),this.rageclicks=new gl(t.config.rageclick)},afterDecideResponse:function(t,e){var n=e.config.token;this._initializedTokens.indexOf(n)>-1?S.info('autocapture already initialized for token "'+n+'"'):(e.persistence&&e.persistence.register(F({},Li,!!t.autocapture_opt_out)),this._isDisabledServerSide=!!t.autocapture_opt_out,this._setIsAutocaptureEnabled(e),this._initializedTokens.push(n),t&&t.config&&t.config.enable_collect_everything&&this._isAutocaptureEnabled?(t.custom_properties&&(this._customProperties=t.custom_properties),this._addDomEventHandlers(e)):e.__autocapture=!1)},enabledForProject:function(t,e,n){if(!t)return!0;e=V(e)?10:e,n=V(n)?10:n;for(var r=0,i=0;i<t.length;i++)r+=t.charCodeAt(i);return r%e<n},isBrowserSupported:function(){return Ve(I==null?void 0:I.querySelectorAll)}};(function(t){for(var e in t)Ve(t[e])&&(t[e]=t[e].bind(t))})(ft),function(t){for(var e in t)Ve(t[e])&&(t[e]=Ts(t[e]))}(ft);var hr="$active_feature_flags",kn="$override_feature_flags",Hi="$feature_flag_payloads",Vi=function(t){var e,n={},r=kt(On(t||{}));try{for(r.s();!(e=r.n()).done;){var i=je(e.value,2),o=i[0],s=i[1];s&&(n[o]=s)}}catch(a){r.e(a)}finally{r.f()}return n},_l=function(){function t(e){re(this,t),this.instance=e,this._override_warning=!1,this.featureFlagEventHandlers=[],this.reloadFeatureFlagsQueued=!1,this.reloadFeatureFlagsInAction=!1}return ie(t,[{key:"getFlags",value:function(){return Object.keys(this.getFlagVariants())}},{key:"getFlagVariants",value:function(){var e=this.instance.get_property(Ct),n=this.instance.get_property(kn);if(!n)return e||{};for(var r=ye({},e),i=Object.keys(n),o=0;o<i.length;o++)n[i[o]]===!1?delete r[i[o]]:r[i[o]]=n[i[o]];return this._override_warning||(S.warn(" Overriding feature flags!",{enabledFlags:e,overriddenFlags:n,finalFlags:r}),this._override_warning=!0),r}},{key:"getFlagPayloads",value:function(){return this.instance.get_property(Hi)||{}}},{key:"reloadFeatureFlags",value:function(){this.reloadFeatureFlagsQueued||(this.reloadFeatureFlagsQueued=!0,this._startReloadTimer())}},{key:"setAnonymousDistinctId",value:function(e){this.$anon_distinct_id=e}},{key:"setReloadingPaused",value:function(e){this.reloadFeatureFlagsInAction=e}},{key:"resetRequestQueue",value:function(){this.reloadFeatureFlagsQueued=!1}},{key:"_startReloadTimer",value:function(){var e=this;this.reloadFeatureFlagsQueued&&!this.reloadFeatureFlagsInAction&&setTimeout(function(){!e.reloadFeatureFlagsInAction&&e.reloadFeatureFlagsQueued&&(e.reloadFeatureFlagsQueued=!1,e._reloadFeatureFlagsRequest())},5)}},{key:"_reloadFeatureFlagsRequest",value:function(){var e=this;if(!this.instance.config.advanced_disable_feature_flags){this.setReloadingPaused(!0);var n=this.instance.config.token,r=this.instance.get_property(Ot),i=this.instance.get_property(ct),o=Kr(JSON.stringify({token:n,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:r,group_properties:i,disable_flags:this.instance.config.advanced_disable_feature_flags||void 0}));this.instance._send_request(this.instance.config.api_host+"/decide/?v=3",{data:o},{method:"POST"},this.instance._prepare_callback(function(s){e.$anon_distinct_id=void 0,e.receivedFeatureFlags(s),e.setReloadingPaused(!1),e._startReloadTimer()}))}}},{key:"getFeatureFlag",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0){var r,i=this.getFlagVariants()[e],o="".concat(i),s=this.instance.get_property(Xn)||{};return(n.send_event||!("send_event"in n))&&(!(e in s)||!s[e].includes(o))&&(pe(s[e])?s[e].push(o):s[e]=[o],(r=this.instance.persistence)===null||r===void 0||r.register(F({},Xn,s)),this.instance.capture("$feature_flag_called",{$feature_flag:e,$feature_flag_response:i})),i}S.warn('getFeatureFlag for key "'+e+`" failed. Feature flags didn't load in time.`)}},{key:"getFeatureFlagPayload",value:function(e){return this.getFlagPayloads()[e]}},{key:"isFeatureEnabled",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.instance.decideEndpointWasHit||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,n);S.warn('isFeatureEnabled for key "'+e+`" failed. Feature flags didn't load in time.`)}},{key:"addFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers.push(e)}},{key:"removeFeatureFlagsHandler",value:function(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter(function(n){return n!==e})}},{key:"receivedFeatureFlags",value:function(e){if(this.instance.persistence){this.instance.decideEndpointWasHit=!0;var n=this.getFlagVariants(),r=this.getFlagPayloads();(function(i,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},l=i.featureFlags,u=i.featureFlagPayloads;if(l)if(pe(l)){var c,f={};if(l)for(var d=0;d<l.length;d++)f[l[d]]=!0;o&&o.register((F(c={},hr,l),F(c,Ct,f),c))}else{var g,p=l,h=u;i.errorsWhileComputingFlags&&(p=O(O({},s),p),h=O(O({},a),h)),o&&o.register((F(g={},hr,Object.keys(Vi(p))),F(g,Ct,p||{}),F(g,Hi,h||{}),g))}})(e,this.instance.persistence,n,r),this._fireFeatureFlagsCallbacks()}}},{key:"override",value:function(e){if(!this.instance.__loaded||!this.instance.persistence)return S.uninitializedWarning("posthog.feature_flags.override");if(this._override_warning=!1,e===!1)this.instance.persistence.unregister(kn);else if(pe(e)){for(var n={},r=0;r<e.length;r++)n[e[r]]=!0;this.instance.persistence.register(F({},kn,n))}else this.instance.persistence.register(F({},kn,e))}},{key:"onFeatureFlags",value:function(e){var n=this;if(this.addFeatureFlagsHandler(e),this.instance.decideEndpointWasHit){var r=this._prepareFeatureFlagsForCallbacks(),i=r.flags,o=r.flagVariants;e(i,o)}return function(){return n.removeFeatureFlagsHandler(e)}}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,n){var r,i,o=F({},"$feature_enrollment/".concat(e),n);this.instance.capture("$feature_enrollment_update",{$feature_flag:e,$feature_enrollment:n,$set:o}),this.setPersonPropertiesForFlags(o,!1);var s=O(O({},this.getFlagVariants()),{},F({},e,n));(r=this.instance.persistence)===null||r===void 0||r.register((F(i={},hr,Object.keys(Vi(s))),F(i,Ct,s),i)),this._fireFeatureFlagsCallbacks()}},{key:"getEarlyAccessFeatures",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(Ir);if(i&&!r)return e(i);this.instance._send_request("".concat(this.instance.config.api_host,"/api/early_access_features/?token=").concat(this.instance.config.token),{},{method:"GET"},function(o){var s,a=o.earlyAccessFeatures;return(s=n.instance.persistence)===null||s===void 0||s.register(F({},Ir,a)),e(a)})}},{key:"_prepareFeatureFlagsForCallbacks",value:function(){var e=this.getFlags(),n=this.getFlagVariants();return{flags:e.filter(function(r){return n[r]}),flagVariants:Object.keys(n).filter(function(r){return n[r]}).reduce(function(r,i){return r[i]=n[i],r},{})}}},{key:"_fireFeatureFlagsCallbacks",value:function(){var e=this._prepareFeatureFlagsForCallbacks(),n=e.flags,r=e.flagVariants;this.featureFlagEventHandlers.forEach(function(i){return i(n,r)})}},{key:"setPersonPropertiesForFlags",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(Ot)||{};this.instance.register(F({},Ot,O(O({},r),e))),n&&this.instance.reloadFeatureFlags()}},{key:"resetPersonPropertiesForFlags",value:function(){this.instance.unregister(Ot)}},{key:"setGroupPropertiesForFlags",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=this.instance.get_property(ct)||{};Object.keys(r).length!==0&&Object.keys(r).forEach(function(i){r[i]=O(O({},r[i]),e[i]),delete e[i]}),this.instance.register(F({},ct,O(O({},r),e))),n&&this.instance.reloadFeatureFlags()}},{key:"resetGroupPropertiesForFlags",value:function(e){if(e){var n=this.instance.get_property(ct)||{};this.instance.register(F({},ct,O(O({},n),{},F({},e,{}))))}else this.instance.unregister(ct)}}]),t}();Math.trunc||(Math.trunc=function(t){return t<0?Math.ceil(t):Math.floor(t)}),Number.isInteger||(Number.isInteger=function(t){return nt(t)&&isFinite(t)&&Math.floor(t)===t});var Ui="0123456789abcdef",vl=function(){function t(e){if(re(this,t),this.bytes=e,e.length!==16)throw new TypeError("not 128-bit length")}return ie(t,[{key:"toString",value:function(){for(var e="",n=0;n<this.bytes.length;n++)e=e+Ui.charAt(this.bytes[n]>>>4)+Ui.charAt(15&this.bytes[n]),n!==3&&n!==5&&n!==7&&n!==9||(e+="-");if(e.length!==36)throw new Error("Invalid UUIDv7 was generated");return e}},{key:"clone",value:function(){return new t(this.bytes.slice(0))}},{key:"equals",value:function(e){return this.compareTo(e)===0}},{key:"compareTo",value:function(e){for(var n=0;n<16;n++){var r=this.bytes[n]-e.bytes[n];if(r!==0)return Math.sign(r)}return 0}}],[{key:"fromFieldsV7",value:function(e,n,r,i){if(!Number.isInteger(e)||!Number.isInteger(n)||!Number.isInteger(r)||!Number.isInteger(i)||e<0||n<0||r<0||i<0||e>0xffffffffffff||n>4095||r>1073741823||i>4294967295)throw new RangeError("invalid field value");var o=new Uint8Array(16);return o[0]=e/Math.pow(2,40),o[1]=e/Math.pow(2,32),o[2]=e/Math.pow(2,24),o[3]=e/Math.pow(2,16),o[4]=e/Math.pow(2,8),o[5]=e,o[6]=112|n>>>8,o[7]=n,o[8]=128|r>>>24,o[9]=r>>>16,o[10]=r>>>8,o[11]=r,o[12]=i>>>24,o[13]=i>>>16,o[14]=i>>>8,o[15]=i,new t(o)}}]),t}(),ml=function(){function t(){re(this,t),F(this,"timestamp",0),F(this,"counter",0),F(this,"random",new yl)}return ie(t,[{key:"generate",value:function(){var e=this.generateOrAbort();if(V(e)){this.timestamp=0;var n=this.generateOrAbort();if(V(n))throw new Error("Could not generate UUID after timestamp reset");return n}return e}},{key:"generateOrAbort",value:function(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return vl.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}},{key:"resetCounter",value:function(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}]),t}(),qs=function(t){if(typeof UUIDV7_DENY_WEAK_RNG<"u"&&UUIDV7_DENY_WEAK_RNG)throw new Error("no cryptographically strong RNG available");for(var e=0;e<t.length;e++)t[e]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return t};_&&!V(_.crypto)&&crypto.getRandomValues&&(qs=function(t){return crypto.getRandomValues(t)});var zi,yl=function(){function t(){re(this,t),F(this,"buffer",new Uint32Array(8)),F(this,"cursor",1/0)}return ie(t,[{key:"nextUint32",value:function(){return this.cursor>=this.buffer.length&&(qs(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}]),t}(),vt=function(){return bl().toString()},bl=function(){return(zi||(zi=new ml)).generate()},wl="Thu, 01 Jan 1970 00:00:00 GMT",kl=/[a-z0-9][a-z0-9-]+\.[a-z]{2,}$/i,Sl=function(t){var e=t.match(kl);return e?e[0]:""};function xl(t,e){if(e){var n=function(i){var o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:I;if(!o||["localhost","127.0.0.1"].includes(i))return"";for(var s=i.split("."),a=s.length,l="dmn_chk_"+vt(),u=new RegExp("(^|;)\\s*"+l+"=1");a--;){var c=s.slice(a).join("."),f=l+"=1;domain=."+c;if(o.cookie=f,u.test(o.cookie))return o.cookie=f+";expires="+wl,c}return""}(t);if(!n){var r=Sl(t);r!==n&&S.info("Warning: cookie subdomain discovery mismatch",r,n),n=r}return n?"; domain=."+n:""}return""}var Xe={is_supported:function(){return!!I},error:function(t){S.error("cookieStore error: "+t)},get:function(t){if(I){try{for(var e=t+"=",n=I.cookie.split(";").filter(function(o){return o.length}),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return decodeURIComponent(i.substring(e.length,i.length))}}catch{}return null}},parse:function(t){var e;try{e=JSON.parse(Xe.get(t))||{}}catch{}return e},set:function(t,e,n,r,i){if(I)try{var o="",s="",a=xl(I.location.hostname,r);if(n){var l=new Date;l.setTime(l.getTime()+24*n*60*60*1e3),o="; expires="+l.toUTCString()}i&&(s="; secure");var u=t+"="+encodeURIComponent(JSON.stringify(e))+o+"; SameSite=Lax; path=/"+a+s;return u.length>3686.4&&S.warn("cookieStore warning: large cookie, len="+u.length),I.cookie=u,u}catch{return}},remove:function(t,e){try{Xe.set(t,"",-1,e)}catch{return}}},gr=null,le={is_supported:function(){if(!qe(gr))return gr;var t=!0;if(V(_))t=!1;else try{var e="__mplssupport__";le.set(e,"xyz"),le.get(e)!=='"xyz"'&&(t=!1),le.remove(e)}catch{t=!1}return t||S.error("localStorage unsupported; falling back to cookie store"),gr=t,t},error:function(t){S.error("localStorage error: "+t)},get:function(t){try{return _==null?void 0:_.localStorage.getItem(t)}catch(e){le.error(e)}return null},parse:function(t){try{return JSON.parse(le.get(t))||{}}catch{}return null},set:function(t,e){try{_==null||_.localStorage.setItem(t,JSON.stringify(e))}catch(n){le.error(n)}},remove:function(t){try{_==null||_.localStorage.removeItem(t)}catch(e){le.error(e)}}},Fl=["distinct_id",Qn,Nn],en=O(O({},le),{},{parse:function(t){try{var e={};try{e=Xe.parse(t)||{}}catch{}var n=ye(e,JSON.parse(le.get(t)||"{}"));return le.set(t,n),n}catch{}return null},set:function(t,e,n,r,i){try{le.set(t,e);var o={};Fl.forEach(function(s){e[s]&&(o[s]=e[s])}),Object.keys(o).length&&Xe.set(t,o,n,r,i)}catch(s){le.error(s)}},remove:function(t,e){try{_==null||_.localStorage.removeItem(t),Xe.remove(t,e)}catch(n){le.error(n)}}}),Sn={},Ml={is_supported:function(){return!0},error:function(t){S.error("memoryStorage error: "+t)},get:function(t){return Sn[t]||null},parse:function(t){return Sn[t]||null},set:function(t,e){Sn[t]=e},remove:function(t){delete Sn[t]}},gt=null,we={is_supported:function(){if(!qe(gt))return gt;if(gt=!0,V(_))gt=!1;else try{var t="__support__";we.set(t,"xyz"),we.get(t)!=='"xyz"'&&(gt=!1),we.remove(t)}catch{gt=!1}return gt},error:function(t){S.error("sessionStorage error: ",t)},get:function(t){try{return _==null?void 0:_.sessionStorage.getItem(t)}catch(e){we.error(e)}return null},parse:function(t){try{return JSON.parse(we.get(t))||null}catch{}return null},set:function(t,e){try{_==null||_.sessionStorage.setItem(t,JSON.stringify(e))}catch(n){we.error(n)}},remove:function(t){try{_==null||_.sessionStorage.removeItem(t)}catch(e){we.error(e)}}},Pl=["localhost","127.0.0.1"],js=function(t){var e=I==null?void 0:I.createElement("a");return V(e)?null:(e.href=t,e)},Il=function(t,e){return!!function(n){try{new RegExp(n)}catch{return!1}return!0}(e)&&new RegExp(e).test(t)},Wi=function(t,e){for(var n,r=((t.split("#")[0]||"").split("?")[1]||"").split("&"),i=0;i<r.length;i++){var o=r[i].split("=");if(o[0]===e){n=o;break}}if(!pe(n)||n.length<2)return"";var s=n[1];try{s=decodeURIComponent(s)}catch{S.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")},Kn=function(t,e){var n=t.match(new RegExp(e+"=([^&]*)"));return n?n[1]:null},de={campaignParams:function(t){var e=["utm_source","utm_medium","utm_campaign","utm_content","utm_term","gclid","gbraid","wbraid","fbclid","msclkid"].concat(t||[]),n={};return J(e,function(r){var i=I?Wi(I.URL,r):"";i.length&&(n[r]=i)}),n},searchEngine:function(){var t=I==null?void 0:I.referrer;return t?t.search("https?://(.*)google.([^/?]*)")===0?"google":t.search("https?://(.*)bing.com")===0?"bing":t.search("https?://(.*)yahoo.com")===0?"yahoo":t.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null:null},searchInfo:function(){var t=de.searchEngine(),e=t!="yahoo"?"q":"p",n={};if(!qe(t)){n.$search_engine=t;var r=I?Wi(I.referrer,e):"";r.length&&(n.ph_keyword=r)}return n},browser:function(t,e,n){return e=e||"",n||G(t," OPR/")?G(t,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":G(t,"IEMobile")||G(t,"WPDesktop")?"Internet Explorer Mobile":G(t,"SamsungBrowser/")?"Samsung Internet":G(t,"Edge")||G(t,"Edg/")?"Microsoft Edge":G(t,"FBIOS")?"Facebook Mobile":G(t,"Chrome")?"Chrome":G(t,"CriOS")?"Chrome iOS":G(t,"UCWEB")||G(t,"UCBrowser")?"UC Browser":G(t,"FxiOS")?"Firefox iOS":G(e,"Apple")||function(r){return G(r,"Safari")&&!G(r,"Chrome")&&!G(r,"Android")}(t)?G(t,"Mobile")?"Mobile Safari":"Safari":G(t,"Android")?"Android Mobile":G(t,"Konqueror")||G(t,"konqueror")?"Konqueror":G(t,"Firefox")?"Firefox":G(t,"MSIE")||G(t,"Trident/")?"Internet Explorer":G(t,"Gecko")?"Mozilla":""},browserVersion:function(t,e,n){var r={"Internet Explorer Mobile":[/rv:(\d+(\.\d+)?)/],"Microsoft Edge":[/Edge?\/(\d+(\.\d+)?)/],Chrome:[/Chrome\/(\d+(\.\d+)?)/],"Chrome iOS":[/CriOS\/(\d+(\.\d+)?)/],"UC Browser":[/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/],Safari:[/Version\/(\d+(\.\d+)?)/],"Mobile Safari":[/Version\/(\d+(\.\d+)?)/],Opera:[/(Opera|OPR)\/(\d+(\.\d+)?)/],Firefox:[/Firefox\/(\d+(\.\d+)?)/],"Firefox iOS":[/FxiOS\/(\d+(\.\d+)?)/],Konqueror:[/Konqueror[:/]?(\d+(\.\d+)?)/i],BlackBerry:[/BlackBerry (\d+(\.\d+)?)/,/Version\/(\d+(\.\d+)?)/],"Android Mobile":[/android\s(\d+(\.\d+)?)/],"Samsung Internet":[/SamsungBrowser\/(\d+(\.\d+)?)/],"Internet Explorer":[/(rv:|MSIE )(\d+(\.\d+)?)/],Mozilla:[/rv:(\d+(\.\d+)?)/]}[de.browser(t,e,n)];if(V(r))return null;for(var i=0;i<r.length;i++){var o=r[i],s=t.match(o);if(s)return parseFloat(s[s.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},os:function(t){if(/Windows/i.test(t)){if(/Phone/.test(t)||/WPDesktop/.test(t))return{os_name:"Windows Phone",os_version:""};var e=/Windows NT ([0-9.]+)/i.exec(t);return e&&e[1]?{os_name:"Windows",os_version:e[1]}:{os_name:"Windows",os_version:""}}if(/(iPhone|iPad|iPod)/.test(t)){var n=/OS (\d+)_(\d+)_?(\d+)?/i.exec(t);return n&&n[1]?{os_name:"iOS",os_version:[n[1],n[2],n[3]||"0"].join(".")}:{os_name:"iOS",os_version:""}}if(/Android/.test(t)){var r=/Android (\d+)\.(\d+)\.?(\d+)?/i.exec(t);return r&&r[1]?{os_name:"Android",os_version:[r[1],r[2],r[3]||"0"].join(".")}:{os_name:"Android",os_version:""}}if(/(BlackBerry|PlayBook|BB10)/i.test(t))return{os_name:"BlackBerry",os_version:""};if(/Mac/i.test(t)){var i=/Mac OS X (\d+)[_.](\d+)[_.]?(\d+)?/i.exec(t);return i&&i[1]?{os_name:"Mac OS X",os_version:[i[1],i[2],i[3]||"0"].join(".")}:{os_name:"Mac OS X",os_version:""}}return/Linux/.test(t)?{os_name:"Linux",os_version:""}:/CrOS/.test(t)?{os_name:"Chrome OS",os_version:""}:{os_name:"",os_version:""}},device:function(t){return/Windows Phone/i.test(t)||/WPDesktop/.test(t)?"Windows Phone":/iPad/.test(t)?"iPad":/iPod/.test(t)?"iPod Touch":/iPhone/.test(t)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(t)?"BlackBerry":/Android/.test(t)&&!/Mobile/.test(t)?"Android Tablet":/Android/.test(t)?"Android":""},deviceType:function(t){var e=this.device(t);return e==="iPad"||e==="Android Tablet"?"Tablet":e?"Mobile":"Desktop"},referrer:function(){return(I==null?void 0:I.referrer)||"$direct"},referringDomain:function(){var t;return I!=null&&I.referrer&&((t=js(I.referrer))===null||t===void 0?void 0:t.host)||"$direct"},properties:function(){if(!fe)return{};var t=de.os(fe),e=t.os_name,n=t.os_version;return ye(Mr({$os:e,$os_version:n,$browser:de.browser(fe,navigator.vendor,Se.opera),$device:de.device(fe),$device_type:de.deviceType(fe)}),{$current_url:_==null?void 0:_.location.href,$host:_==null?void 0:_.location.host,$pathname:_==null?void 0:_.location.pathname,$raw_user_agent:fe.length>1e3?fe.substring(0,997)+"...":fe,$browser_version:de.browserVersion(fe,navigator.vendor,Se.opera),$browser_language:de.browserLanguage(),$screen_height:_==null?void 0:_.screen.height,$screen_width:_==null?void 0:_.screen.width,$viewport_height:_==null?void 0:_.innerHeight,$viewport_width:_==null?void 0:_.innerWidth,$lib:"web",$lib_version:St.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:As()/1e3})},people_properties:function(){if(!fe)return{};var t=de.os(fe),e=t.os_name,n=t.os_version;return ye(Mr({$os:e,$os_version:n,$browser:de.browser(fe,navigator.vendor,Se.opera)}),{$browser_version:de.browserVersion(fe,navigator.vendor,Se.opera)})}},El=["cookie","localstorage","localstorage+cookie","sessionstorage","memory"],Gi=function(){function t(e){re(this,t);var n="";e.token&&(n=e.token.replace(/\+/g,"PL").replace(/\//g,"SL").replace(/=/g,"EQ")),this.props={},this.campaign_params_saved=!1,this.custom_campaign_params=e.custom_campaign_params||[],e.persistence_name?this.name="ph_"+e.persistence_name:this.name="ph_"+n+"_posthog",El.indexOf(e.persistence.toLowerCase())===-1&&(S.critical("Unknown persistence type "+e.persistence+"; falling back to localStorage+cookie"),e.persistence="localStorage+cookie");var r=e.persistence.toLowerCase();r==="localstorage"&&le.is_supported()?this.storage=le:r==="localstorage+cookie"&&en.is_supported()?this.storage=en:r==="sessionstorage"&&we.is_supported()?this.storage=we:r==="memory"?this.storage=Ml:r==="cookie"?this.storage=Xe:en.is_supported()?this.storage=en:this.storage=Xe,this.user_state="anonymous",this.load(),this.update_config(e),this.save()}return ie(t,[{key:"properties",value:function(){var e={};return J(this.props,function(n,r){if(r===Ct&&dt(n))for(var i=Object.keys(n),o=0;o<i.length;o++)e["$feature/".concat(i[o])]=n[i[o]];else a=r,l=!1,(qe(s=pl)?l:Ri&&s.indexOf===Ri?s.indexOf(a)!=-1:(J(s,function(u){if(l||(l=u===a))return Xr}),l))||(e[r]=n);var s,a,l}),e}},{key:"load",value:function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=ye({},e))}}},{key:"save",value:function(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure)}},{key:"remove",value:function(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}},{key:"clear",value:function(){this.remove(),this.props={}}},{key:"register_once",value:function(e,n,r){var i=this;if(dt(e)){V(n)&&(n="None"),this.expire_days=V(r)?this.default_expiry:r;var o=!1;if(J(e,function(s,a){i.props.hasOwnProperty(a)&&i.props[a]!==n||(i.props[a]=s,o=!0)}),o)return this.save(),!0}return!1}},{key:"register",value:function(e,n){var r=this;if(dt(e)){this.expire_days=V(n)?this.default_expiry:n;var i=!1;if(J(e,function(o,s){e.hasOwnProperty(s)&&r.props[s]!==o&&(r.props[s]=o,i=!0)}),i)return this.save(),!0}return!1}},{key:"unregister",value:function(e){e in this.props&&(delete this.props[e],this.save())}},{key:"update_campaign_params",value:function(){this.campaign_params_saved||(this.register(de.campaignParams(this.custom_campaign_params)),this.campaign_params_saved=!0)}},{key:"update_search_keyword",value:function(){this.register(de.searchInfo())}},{key:"update_referrer_info",value:function(){this.register({$referrer:this.props.$referrer||de.referrer(),$referring_domain:this.props.$referring_domain||de.referringDomain()})}},{key:"get_referrer_info",value:function(){return Mr({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}},{key:"safe_merge",value:function(e){return J(this.props,function(n,r){r in e||(e[r]=n)}),e}},{key:"update_config",value:function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)}},{key:"set_disabled",value:function(e){this.disabled=e,this.disabled?this.remove():this.save()}},{key:"set_cross_subdomain",value:function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}},{key:"get_cross_subdomain",value:function(){return!!this.cross_subdomain}},{key:"set_secure",value:function(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}},{key:"set_event_timer",value:function(e,n){var r=this.props[Zt]||{};r[e]=n,this.props[Zt]=r,this.save()}},{key:"remove_event_timer",value:function(e){var n=(this.props[Zt]||{})[e];return V(n)||(delete this.props[Zt][e],this.save()),n}},{key:"get_user_state",value:function(){return this.props[Rr]||"anonymous"}},{key:"set_user_state",value:function(e){this.props[Rr]=e,this.save()}},{key:"get_quota_limits",value:function(){return this.props[$r]||{}}},{key:"set_quota_limits",value:function(e){this.props[$r]=e,this.save()}}]),t}(),Yi=2,Rl=4,Hs=3,$l=6,Cl=0,Ol="rrweb/console@1",Al=ie(function t(e){var n,r,i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};re(this,t),F(this,"bucketSize",100),F(this,"refillRate",10),F(this,"mutationBuckets",{}),F(this,"loggedTracker",{}),F(this,"refillBuckets",function(){Object.keys(i.mutationBuckets).forEach(function(s){i.mutationBuckets[s]=i.mutationBuckets[s]+i.refillRate,i.mutationBuckets[s]>=i.bucketSize&&delete i.mutationBuckets[s]})}),F(this,"getNodeOrRelevantParent",function(s){var a=i.rrweb.mirror.getNode(s);if((a==null?void 0:a.nodeName)!=="svg"&&a instanceof Element){var l=a.closest("svg");if(l)return[i.rrweb.mirror.getId(l),l]}return[s,a]}),F(this,"numberOfChanges",function(s){var a,l,u,c,f,d,g,p;return((a=(l=s.removes)===null||l===void 0?void 0:l.length)!==null&&a!==void 0?a:0)+((u=(c=s.attributes)===null||c===void 0?void 0:c.length)!==null&&u!==void 0?u:0)+((f=(d=s.texts)===null||d===void 0?void 0:d.length)!==null&&f!==void 0?f:0)+((g=(p=s.adds)===null||p===void 0?void 0:p.length)!==null&&g!==void 0?g:0)}),F(this,"throttleMutations",function(s){if(s.type!==Hs||s.data.source!==Cl)return s;var a=s.data,l=i.numberOfChanges(a);a.attributes&&(a.attributes=a.attributes.filter(function(c){var f,d,g,p=je(i.getNodeOrRelevantParent(c.id),2),h=p[0],y=p[1];return i.mutationBuckets[h]===0?!1:(i.mutationBuckets[h]=(f=i.mutationBuckets[h])!==null&&f!==void 0?f:i.bucketSize,i.mutationBuckets[h]=Math.max(i.mutationBuckets[h]-1,0),i.mutationBuckets[h]===0&&(i.loggedTracker[h]||(i.loggedTracker[h]=!0,(d=(g=i.options).onBlockedNode)===null||d===void 0||d.call(g,h,y))),c)}));var u=i.numberOfChanges(a);return u!==0||l===u?s:void 0}),this.rrweb=e,this.options=o,this.refillRate=(n=this.options.refillRate)!==null&&n!==void 0?n:this.refillRate,this.bucketSize=(r=this.options.bucketSize)!==null&&r!==void 0?r:this.bucketSize,setInterval(function(){i.refillBuckets()},1e3)}),Vs=function(t){return t[t.DomContentLoaded=0]="DomContentLoaded",t[t.Load=1]="Load",t[t.FullSnapshot=2]="FullSnapshot",t[t.IncrementalSnapshot=3]="IncrementalSnapshot",t[t.Meta=4]="Meta",t[t.Custom=5]="Custom",t[t.Plugin=6]="Plugin",t}(Vs||{}),Tl={initiatorTypes:["audio","beacon","body","css","early-hint","embed","fetch","frame","iframe","icon","image","img","input","link","navigation","object","ping","script","track","video","xmlhttprequest"],maskRequestFn:function(t){return t},recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:["first-input","navigation","paint","resource"],payloadSizeLimitBytes:1e6},Nl=["authorization","x-forwarded-for","authorization","cookie","set-cookie","x-api-key","x-real-ip","remote-addr","forwarded","proxy-authorization","x-csrf-token","x-csrftoken","x-xsrf-token"],Dl=["/s/","/e/","/i/vo/e/"];function Ji(t,e,n,r){var i=e==null?void 0:e["content-length"];return i&&parseInt(i)>n?"".concat(r," body too large to record"):t}var Ge,Ll=function(t,e){var n,r,i,o=t.session_recording,s=o.recordHeaders!==!1&&e.recordHeaders,a=o.recordBody!==!1&&e.recordBody,l=o.recordPerformance!==!1&&e.recordPerformance,u=(n=o,i=Math.min(1e6,(r=n.payloadSizeLimitBytes)!==null&&r!==void 0?r:1e6),function(d){return d!=null&&d.requestBody&&(d.requestBody=Ji(d.requestBody,d.requestHeaders,i,"Request")),d!=null&&d.responseBody&&(d.responseBody=Ji(d.responseBody,d.responseHeaders,i,"Response")),d}),c=function(d){return u(function(h){var y=js(h.name);if(!(y&&y.pathname&&Dl.includes(y.pathname)))return h}((g=d,Object.keys((p=g.requestHeaders)!==null&&p!==void 0?p:{}).forEach(function(h){var y;Nl.includes(h.toLowerCase())&&((y=g.requestHeaders)===null||y===void 0||delete y[h])}),g)));var g,p},f=Ve(t.session_recording.maskNetworkRequestFn);return f&&Ve(t.session_recording.maskCapturedNetworkRequestFn)&&S.warn("Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored."),f&&(t.session_recording.maskCapturedNetworkRequestFn=function(d){var g=t.session_recording.maskNetworkRequestFn({url:d.name});return O(O({},d),{},{name:g==null?void 0:g.url})}),o.maskRequestFn=Ve(t.session_recording.maskCapturedNetworkRequestFn)?function(d){var g,p,h,y=c(d);return y&&(g=(p=(h=t.session_recording).maskCapturedNetworkRequestFn)===null||p===void 0?void 0:p.call(h,y))!==null&&g!==void 0?g:void 0}:void 0,o.maskRequestFn||(o.maskRequestFn=c),O(O(O({},Tl),o),{},{recordHeaders:s,recordBody:a,recordPerformance:l,recordInitialRequests:l})},Bl="/s/",Qi=3e5;(function(t){t[t.Mutation=0]="Mutation",t[t.MouseMove=1]="MouseMove",t[t.MouseInteraction=2]="MouseInteraction",t[t.Scroll=3]="Scroll",t[t.ViewportResize=4]="ViewportResize",t[t.Input=5]="Input",t[t.TouchMove=6]="TouchMove",t[t.MediaInteraction=7]="MediaInteraction",t[t.StyleSheetRule=8]="StyleSheetRule",t[t.CanvasMutation=9]="CanvasMutation",t[t.Font=10]="Font",t[t.Log=11]="Log",t[t.Drag=12]="Drag",t[t.StyleDeclaration=13]="StyleDeclaration",t[t.Selection=14]="Selection",t[t.AdoptedStyleSheet=15]="AdoptedStyleSheet"})(Ge||(Ge={}));var ql=[Ge.MouseMove,Ge.MouseInteraction,Ge.Scroll,Ge.ViewportResize,Ge.Input,Ge.TouchMove,Ge.MediaInteraction,Ge.Drag],jl=function(){function t(e){var n=this;if(re(this,t),F(this,"isIdle",!1),F(this,"_linkedFlagSeen",!1),F(this,"_lastActivityTimestamp",Date.now()),F(this,"windowId",null),F(this,"sessionId",null),F(this,"_linkedFlag",null),F(this,"_sampleRate",null),F(this,"_minimumDuration",null),F(this,"_forceAllowLocalhostNetworkCapture",!1),this.instance=e,this._captureStarted=!1,this._endpoint=Bl,this.stopRrweb=void 0,this.receivedDecide=!1,_==null||_.addEventListener("beforeunload",function(){n._flushBuffer()}),!this.instance.sessionManager)throw S.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");this.buffer=this.clearBuffer()}return ie(t,[{key:"started",get:function(){return this._captureStarted}},{key:"sessionManager",get:function(){if(!this.instance.sessionManager)throw S.error("Session recording started without valid sessionManager"),new Error("Session recording started without valid sessionManager. This is a bug.");return this.instance.sessionManager}},{key:"isSampled",get:function(){return nt(this._sampleRate)?this.instance.get_property(Nn):null}},{key:"sessionDuration",get:function(){var e,n,r=(e=this.buffer)===null||e===void 0?void 0:e.data[((n=this.buffer)===null||n===void 0?void 0:n.data.length)-1],i=this.sessionManager.checkAndGetSessionAndWindowId(!0).sessionStartTimestamp;return r?r.timestamp-i:null}},{key:"isRecordingEnabled",get:function(){var e=!!this.instance.get_property(Pr),n=!this.instance.config.disable_session_recording;return _&&e&&n}},{key:"isConsoleLogCaptureEnabled",get:function(){var e=!!this.instance.get_property(Bi),n=this.instance.config.enable_recording_console_log;return n??e}},{key:"recordingVersion",get:function(){var e,n=this.instance.get_property(qi);return((e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recorderVersion)||n||"v1"}},{key:"networkPayloadCapture",get:function(){var e,n,r=this.instance.get_property(ji),i={recordHeaders:(e=this.instance.config.session_recording)===null||e===void 0?void 0:e.recordHeaders,recordBody:(n=this.instance.config.session_recording)===null||n===void 0?void 0:n.recordBody},o=(i==null?void 0:i.recordHeaders)||(r==null?void 0:r.recordHeaders),s=(i==null?void 0:i.recordBody)||(r==null?void 0:r.recordBody),a=this.instance.config.capture_performance||(r==null?void 0:r.capturePerformance);return o||s||a?{recordHeaders:o,recordBody:s,recordPerformance:a}:void 0}},{key:"status",get:function(){return this.receivedDecide?this.isRecordingEnabled?De(this._linkedFlag)&&!this._linkedFlagSeen?"buffering":Fr(this.isSampled)?this.isSampled?"sampled":"disabled":"active":"disabled":"buffering"}},{key:"startRecordingIfEnabled",value:function(){this.isRecordingEnabled?this.startCaptureAndTrySendingQueuedSnapshots():(this.stopRecording(),this.clearBuffer())}},{key:"stopRecording",value:function(){this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1)}},{key:"makeSamplingDecision",value:function(e){var n,r=this.sessionId!==e;if(nt(this._sampleRate)){var i,o=this.isSampled;r||!Fr(o)?i=Math.random()<this._sampleRate:i=o,i||S.warn("[SessionSampling] Sample rate (".concat(this._sampleRate,") has determined that this sessionId (").concat(e,") will not be sent to the server.")),(n=this.instance.persistence)===null||n===void 0||n.register(F({},Nn,i))}else{var s;(s=this.instance.persistence)===null||s===void 0||s.register(F({},Nn,null))}}},{key:"afterDecideResponse",value:function(e){var n,r,i,o,s,a,l,u,c=this;this.instance.persistence&&this.instance.persistence.register((F(u={},Pr,!!e.sessionRecording),F(u,Bi,(s=e.sessionRecording)===null||s===void 0?void 0:s.consoleLogRecordingEnabled),F(u,qi,(a=e.sessionRecording)===null||a===void 0?void 0:a.recorderVersion),F(u,ji,O({capturePerformance:e.capturePerformance},(l=e.sessionRecording)===null||l===void 0?void 0:l.networkPayloadCapture)),u));var f=(n=e.sessionRecording)===null||n===void 0?void 0:n.sampleRate;this._sampleRate=V(f)||qe(f)?null:parseFloat(f);var d,g=(r=e.sessionRecording)===null||r===void 0?void 0:r.minimumDurationMilliseconds;if(this._minimumDuration=V(g)?null:g,this._linkedFlag=((i=e.sessionRecording)===null||i===void 0?void 0:i.linkedFlag)||null,(o=e.sessionRecording)!==null&&o!==void 0&&o.endpoint&&(this._endpoint=(d=e.sessionRecording)===null||d===void 0?void 0:d.endpoint),nt(this._sampleRate)&&this.sessionManager.onSessionId(function(h){c.makeSamplingDecision(h)}),De(this._linkedFlag)){var p=this._linkedFlag;this.instance.onFeatureFlags(function(h){c._linkedFlagSeen=h.includes(p)})}this.receivedDecide=!0,this.startRecordingIfEnabled()}},{key:"log",value:function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"log";(n=this.instance.sessionRecording)===null||n===void 0||n.onRRwebEmit({type:6,data:{plugin:"rrweb/console@1",payload:{level:r,trace:[],payload:[JSON.stringify(e)]}},timestamp:As()})}},{key:"startCaptureAndTrySendingQueuedSnapshots",value:function(){this._startCapture()}},{key:"_startCapture",value:function(){var e=this;if(!V(Object.assign)&&!this._captureStarted&&!this.instance.config.disable_session_recording){this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId();var n=this.recordingVersion==="v2"?"recorder-v2.js":"recorder.js";this.instance.__loaded_recorder_version!==this.recordingVersion?sn(this.instance.config.api_host+"/static/".concat(n,"?v=").concat(St.LIB_VERSION),function(r){if(r)return S.error("Could not load ".concat(n),r);e._onScriptLoaded()}):this._onScriptLoaded()}}},{key:"_isInteractiveEvent",value:function(e){var n;return e.type===Hs&&ql.indexOf((n=e.data)===null||n===void 0?void 0:n.source)!==-1}},{key:"_updateWindowAndSessionIds",value:function(e){var n=this._isInteractiveEvent(e);if(n||this.isIdle||e.timestamp-this._lastActivityTimestamp>Qi&&(this.isIdle=!0,this._tryAddCustomEvent("sessionIdle",{reason:"user inactivity",timeSinceLastActive:e.timestamp-this._lastActivityTimestamp,threshold:Qi})),n&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent("sessionNoLongerIdle",{reason:"user activity",type:e.type}),this._tryTakeFullSnapshot())),!this.isIdle){var r=this.sessionManager.checkAndGetSessionAndWindowId(!n,e.timestamp),i=r.windowId,o=r.sessionId,s=this.sessionId!==o,a=this.windowId!==i;[Yi,Rl].indexOf(e.type)===-1&&(a||s)&&this._tryTakeFullSnapshot(),this.windowId=i,this.sessionId=o}}},{key:"_tryRRwebMethod",value:function(e){if(!this._captureStarted)return!1;try{return e(),!0}catch(n){return S.error("[Session-Recording] using rrweb when not started.",n),!1}}},{key:"_tryAddCustomEvent",value:function(e,n){var r=this;return this._tryRRwebMethod(function(){var i;return(i=r.rrwebRecord)===null||i===void 0?void 0:i.addCustomEvent(e,n)})}},{key:"_tryTakeFullSnapshot",value:function(){var e=this;return this._tryRRwebMethod(function(){var n;return(n=e.rrwebRecord)===null||n===void 0?void 0:n.takeFullSnapshot()})}},{key:"_onScriptLoaded",value:function(){var e,n=this,r={blockClass:"ph-no-capture",blockSelector:void 0,ignoreClass:"ph-ignore-input",maskTextClass:"ph-mask",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1};this.rrwebRecord=_.rrweb?_.rrweb.record:_.rrwebRecord;for(var i=this.instance.config.session_recording,o=0,s=Object.entries(i||{});o<s.length;o++){var a=je(s[o],2),l=a[0],u=a[1];l in r&&(r[l]=u)}this.rrwebRecord?(this.mutationRateLimiter=(e=this.mutationRateLimiter)!==null&&e!==void 0?e:new Al(this.rrwebRecord,{onBlockedNode:function(c,f){var d="Too many mutations on node '".concat(c,"'. Rate limiting. This could be due to SVG animations or something similar");S.info(d,{node:f}),n.log("[PostHog Recorder] "+d,"warn")}}),this.stopRrweb=this.rrwebRecord(O({emit:function(c){n.onRRwebEmit(c)},plugins:this._gatherRRWebPlugins()},r)),this.instance._addCaptureHook(function(c){try{if(c==="$pageview"){var f=_?n._maskUrl(_.location.href):"";if(!f)return;n._tryAddCustomEvent("$pageview",{href:f})}}catch(d){S.error("Could not add $pageview to rrweb session",d)}}),this._lastActivityTimestamp=Date.now(),this.isIdle=!1):S.error("onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.")}},{key:"_gatherRRWebPlugins",value:function(){var e=[];return Se.rrwebConsoleRecord&&this.isConsoleLogCaptureEnabled&&e.push(Se.rrwebConsoleRecord.getRecordConsolePlugin()),this.networkPayloadCapture&&Ve(Se.getRecordNetworkPlugin)&&(!Pl.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?e.push(Se.getRecordNetworkPlugin(Ll(this.instance.config,this.networkPayloadCapture))):S.info("[SessionReplay-NetworkCapture] not started because we are on localhost.")),e}},{key:"onRRwebEmit",value:function(e){if(e&&dt(e)){if(e.type===Vs.Meta){var n=this._maskUrl(e.data.href);if(!n)return;e.data.href=n}var r=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(r){var i=function(a){var l=a;if(l&&dt(l)&&l.type===$l&&dt(l.data)&&l.data.plugin===Ol){l.data.payload.payload.length>10&&(l.data.payload.payload=l.data.payload.payload.slice(0,10),l.data.payload.payload.push("...[truncated]"));for(var u=[],c=0;c<l.data.payload.payload.length;c++)l.data.payload.payload[c]&&l.data.payload.payload[c].length>2e3?u.push(l.data.payload.payload[c].slice(0,2e3)+"...[truncated]"):u.push(l.data.payload.payload[c]);return l.data.payload.payload=u,a}return a}(r),o=JSON.stringify(i).length;if(this._updateWindowAndSessionIds(i),!this.isIdle){var s={$snapshot_bytes:o,$snapshot_data:i,$session_id:this.sessionId,$window_id:this.windowId};this.status!=="disabled"?this._captureSnapshotBuffered(s):this.clearBuffer()}}}}},{key:"_maskUrl",value:function(e){var n=this.instance.config.session_recording;if(n.maskNetworkRequestFn){var r,i={url:e};return(r=i=n.maskNetworkRequestFn(i))===null||r===void 0?void 0:r.url}return e}},{key:"clearBuffer",value:function(){return this.buffer=void 0,{size:0,data:[],sessionId:this.sessionId,windowId:this.windowId}}},{key:"_flushBuffer",value:function(){var e=this;this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var n=this._minimumDuration,r=this.sessionDuration,i=nt(r)&&r>=0,o=nt(n)&&i&&r<n;return this.status==="buffering"||o?(this.flushBufferTimer=setTimeout(function(){e._flushBuffer()},2e3),this.buffer||this.clearBuffer()):this.buffer&&this.buffer.data.length!==0?(this._captureSnapshot({$snapshot_bytes:this.buffer.size,$snapshot_data:this.buffer.data,$session_id:this.buffer.sessionId,$window_id:this.buffer.windowId}),this.clearBuffer()):this.buffer||this.clearBuffer()}},{key:"_captureSnapshotBuffered",value:function(e){var n,r=this,i=2+(((n=this.buffer)===null||n===void 0?void 0:n.data.length)||0);(!this.buffer||this.buffer.size+e.$snapshot_bytes+i>943718.4||this.buffer.sessionId&&this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),qe(this.buffer.sessionId)&&!qe(this.sessionId)&&(this.buffer.sessionId=this.sessionId,this.buffer.windowId=this.windowId),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||(this.flushBufferTimer=setTimeout(function(){r._flushBuffer()},2e3))}},{key:"_captureSnapshot",value:function(e){this.instance.capture("$snapshot",e,{transport:"XHR",method:"POST",endpoint:this._endpoint,_noTruncate:!0,_batchKey:"recordings",_metrics:{rrweb_full_snapshot:e.$snapshot_data.type===Yi}})}}]),t}(),Hl=function(){function t(e){re(this,t),this.instance=e,this.instance.decideEndpointWasHit=this.instance._hasBootstrappedFeatureFlags()}return ie(t,[{key:"call",value:function(){var e=this,n=Kr(JSON.stringify({token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),person_properties:this.instance.get_property(Ot),group_properties:this.instance.get_property(ct),disable_flags:this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load||void 0}));this.instance._send_request("".concat(this.instance.config.api_host,"/decide/?v=3"),{data:n,verbose:!0},{method:"POST"},function(r){return e.parseDecideResponse(r)})}},{key:"parseDecideResponse",value:function(e){var n,r=this;if(this.instance.featureFlags.setReloadingPaused(!1),this.instance.featureFlags._startReloadTimer(),(e==null?void 0:e.status)!==0){if(!I||!I.body)return S.info("document not ready yet, trying again in 500 milliseconds..."),void setTimeout(function(){r.parseDecideResponse(e)},500);this.instance.toolbar.afterDecideResponse(e),(n=this.instance.sessionRecording)===null||n===void 0||n.afterDecideResponse(e),ft.afterDecideResponse(e,this.instance),this.instance._afterDecideResponse(e),this.instance.config.advanced_disable_feature_flags_on_first_load||this.instance.config.advanced_disable_feature_flags||this.instance.featureFlags.receivedFeatureFlags(e);var i=_==null?void 0:_.extendPostHogWithSurveys;e.surveys&&!i&&sn(this.instance.config.api_host+"/static/surveys.js",function(c){if(c)return S.error("Could not load surveys script",c);_.extendPostHogWithSurveys(r.instance)});var o=_==null?void 0:_.extendPostHogWithExceptionAutoCapture;if(e.autocaptureExceptions&&e.autocaptureExceptions&&V(o)&&sn(this.instance.config.api_host+"/static/exception-autocapture.js",function(c){if(c)return S.error("Could not load exception autocapture script",c);_.extendPostHogWithExceptionAutocapture(r.instance,e)}),e.siteApps)if(this.instance.config.opt_in_site_apps){var s,a=this.instance.config.api_host,l=kt(e.siteApps);try{var u=function(){var c=s.value,f=c.id,d=c.url,g=[a,a[a.length-1]==="/"&&d[0]==="/"?d.substring(1):d].join("");Se["__$$ph_site_app_".concat(f)]=r.instance,sn(g,function(p){p&&S.error("Error while initializing PostHog app with config id ".concat(f),p)})};for(l.s();!(s=l.n()).done;)u()}catch(c){l.e(c)}finally{l.f()}}else e.siteApps.length>0&&S.error('PostHog site apps are disabled. Enable the "opt_in_site_apps" config to proceed.')}else S.error("Failed to fetch feature flags from PostHog.")}}]),t}(),Vl=["https://app.posthog.com","https://eu.posthog.com"],Ul=["source"],zl=_!=null&&_.location?Kn(_.location.hash,"__posthog")||Kn(location.hash,"state"):null,Wl=function(){function t(e){re(this,t),this.instance=e}return ie(t,[{key:"afterDecideResponse",value:function(e){var n=e.toolbarParams||e.editorParams||(e.toolbarVersion?{toolbarVersion:e.toolbarVersion}:{});e.isAuthenticated&&n.toolbarVersion&&n.toolbarVersion.indexOf("toolbar")===0&&this.loadToolbar(O({},n))}},{key:"maybeLoadToolbar",value:function(){var e,n,r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;if(!_||!I)return!1;r=(e=r)!==null&&e!==void 0?e:_.location,o=(n=o)!==null&&n!==void 0?n:_.history;try{if(!i){try{_.localStorage.setItem("test","test"),_.localStorage.removeItem("test")}catch{return!1}i=_==null?void 0:_.localStorage}var s,a=zl||Kn(r.hash,"__posthog")||Kn(r.hash,"state"),l=a?Oi(function(){return JSON.parse(atob(decodeURIComponent(a)))})||Oi(function(){return JSON.parse(decodeURIComponent(a))}):null;return l&&l.action==="ph_authorize"?((s=l).source="url",s&&Object.keys(s).length>0&&(l.desiredHash?r.hash=l.desiredHash:o?o.replaceState("",I.title,r.pathname+r.search):r.hash="")):((s=JSON.parse(i.getItem("_postHogToolbarParams")||"{}")).source="localstorage",delete s.userIntent),!(!s.token||this.instance.config.token!==s.token)&&(this.loadToolbar(s),!0)}catch{return!1}}},{key:"loadToolbar",value:function(e){var n=this;if(!_||Se._postHogToolbarLoaded)return!1;Se._postHogToolbarLoaded=!0;var r=this.instance.config.api_host,i=3e5,o=Math.floor(Date.now()/i)*i,s="".concat(r).concat(r.endsWith("/")?"":"/","static/toolbar.js?t=").concat(o),a=!Vl.includes(this.instance.config.api_host)&&this.instance.config.advanced_disable_toolbar_metrics,l=O(O({token:this.instance.config.token},e),{},{apiURL:r},a?{instrument:!1}:{});l.source;var u=ol(l,Ul);return _.localStorage.setItem("_postHogToolbarParams",JSON.stringify(u)),sn(s,function(c){c?S.error("Failed to load toolbar",c):(Se.ph_load_toolbar||Se.ph_load_editor)(l,n.instance)}),on(_,"turbolinks:load",function(){Se._postHogToolbarLoaded=!1,n.loadToolbar(l)}),!0}},{key:"_loadEditor",value:function(e){return this.loadToolbar(e)}},{key:"maybeLoadEditor",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:void 0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:void 0,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;return this.maybeLoadToolbar(e,n,r)}}]),t}(),Gl="__ph_opt_in_out_";function Yl(t,e){zs(!0,t,e)}function Jl(t,e){zs(!1,t,e)}function Ql(t,e){return Us(t,e)==="1"}function Xi(t,e){return!!function(n){if(n&&n.respectDnt){var r=n&&n.window||_,i=r==null?void 0:r.navigator,o=!1;return J([i==null?void 0:i.doNotTrack,i.msDoNotTrack,r.doNotTrack],function(s){G([!0,1,"1","yes"],s)&&(o=!0)}),o}return!1}(e)||Us(t,e)==="0"}function Xl(t,e){ei(e=e||{}).remove(ti(t,e),!!e.crossSubdomainCookie)}function ei(t){return(t=t||{}).persistenceType==="localStorage"?le:t.persistenceType==="localStorage+cookie"?en:Xe}function ti(t,e){return((e=e||{}).persistencePrefix||Gl)+t}function Us(t,e){return ei(e).get(ti(t,e))}function zs(t,e,n){De(e)&&e.length?(ei(n=n||{}).set(ti(e,n),t?1:0,nt(n.cookieExpiration)?n.cookieExpiration:null,n.crossSubdomainCookie,n.secureCookie),n.capture&&t&&n.capture(n.captureEventName||"$opt_in",n.captureProperties||{},{send_instantly:!0})):S.error("gdpr."+(t?"optIn":"optOut")+" called with an invalid token")}var Ws=function(){function t(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:3e3;re(this,t),this.isPolling=!0,this._event_queue=[],this._empty_queue_count=0,this._poller=void 0,this._pollInterval=e}return ie(t,[{key:"setPollInterval",value:function(e){this._pollInterval=e,this.isPolling&&this.poll()}},{key:"poll",value:function(){}},{key:"unload",value:function(){}},{key:"getTime",value:function(){return new Date().getTime()}}]),t}(),Kl=function(t){Es(n,Ws);var e=Rs(n);function n(r){var i,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:3e3;return re(this,n),(i=e.call(this,o)).handlePollRequest=r,i}return ie(n,[{key:"enqueue",value:function(r,i,o){this._event_queue.push({url:r,data:i,options:o}),this.isPolling||(this.isPolling=!0,this.poll())}},{key:"poll",value:function(){var r=this;clearTimeout(this._poller),this._poller=setTimeout(function(){if(r._event_queue.length>0){var i=r.formatQueue(),o=function(a){var l=i[a],u=l.url,c=l.data,f=l.options;J(c,function(d,g){c[g].offset=Math.abs(c[g].timestamp-r.getTime()),delete c[g].timestamp}),r.handlePollRequest(u,c,f)};for(var s in i)o(s);r._event_queue.length=0,r._empty_queue_count=0}else r._empty_queue_count++;r._empty_queue_count>4&&(r.isPolling=!1,r._empty_queue_count=0),r.isPolling&&r.poll()},this._pollInterval)}},{key:"unload",value:function(){var r=this;clearTimeout(this._poller);var i=this._event_queue.length>0?this.formatQueue():{};this._event_queue.length=0;var o=Object.values(i);[].concat(Sr(o.filter(function(s){return s.url.indexOf("/e")===0})),Sr(o.filter(function(s){return s.url.indexOf("/e")!==0}))).map(function(s){var a=s.url,l=s.data,u=s.options;r.handlePollRequest(a,l,O(O({},u),{},{transport:"sendBeacon"}))})}},{key:"formatQueue",value:function(){var r={};return J(this._event_queue,function(i){var o=i.url,s=i.data,a=i.options,l=(a?a._batchKey:null)||o;V(r[l])&&(r[l]={data:[],url:o,options:a}),a&&r[l].options&&r[l].options._metrics&&!r[l].options._metrics.rrweb_full_snapshot&&(r[l].options._metrics.rrweb_full_snapshot=a._metrics.rrweb_full_snapshot),r[l].data.push(s)}),r}}]),n}(),Le=Uint8Array,Pe=Uint16Array,jt=Uint32Array,ni=new Le([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ri=new Le([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ki=new Le([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Gs=function(t,e){for(var n=new Pe(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];var i=new jt(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)i[o]=o-n[r]<<5|r;return[n,i]},Ys=Gs(ni,2),Zl=Ys[0],Or=Ys[1];Zl[28]=258,Or[258]=28;for(var Zi=Gs(ri,0)[1],Ar=new Pe(32768),Q=0;Q<32768;++Q){var pt=(43690&Q)>>>1|(21845&Q)<<1;pt=(61680&(pt=(52428&pt)>>>2|(13107&pt)<<2))>>>4|(3855&pt)<<4,Ar[Q]=((65280&pt)>>>8|(255&pt)<<8)>>>1}var an=function(t,e,n){for(var r=t.length,i=0,o=new Pe(e);i<r;++i)++o[t[i]-1];var s,a=new Pe(e);for(i=0;i<e;++i)a[i]=a[i-1]+o[i-1]<<1;if(n){s=new Pe(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=a[t[i]-1]++<<c,d=f|(1<<c)-1;f<=d;++f)s[Ar[f]>>>l]=u}else for(s=new Pe(r),i=0;i<r;++i)s[i]=Ar[a[t[i]-1]++]>>>15-t[i];return s},xt=new Le(288);for(Q=0;Q<144;++Q)xt[Q]=8;for(Q=144;Q<256;++Q)xt[Q]=9;for(Q=256;Q<280;++Q)xt[Q]=7;for(Q=280;Q<288;++Q)xt[Q]=8;var Zn=new Le(32);for(Q=0;Q<32;++Q)Zn[Q]=5;var _t,eu=an(xt,9,0),tu=an(Zn,5,0),Js=function(t){return(t/8>>0)+(7&t&&1)},Qs=function(t,e,n){(e==null||e<0)&&(e=0),(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Pe?Pe:t instanceof jt?jt:Le)(n-e);return r.set(t.subarray(e,n)),r},et=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8},Xt=function(t,e,n){n<<=7&e;var r=e/8>>0;t[r]|=n,t[r+1]|=n>>>8,t[r+2]|=n>>>16},pr=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,o=n.slice();if(!i)return[new Le(0),0];if(i==1){var s=new Le(n[0].s+1);return s[n[0].s]=1,[s,1]}n.sort(function(x,q){return x.f-q.f}),n.push({s:-1,f:25001});var a=n[0],l=n[1],u=0,c=1,f=2;for(n[0]={s:-1,f:a.f+l.f,l:a,r:l};c!=i-1;)a=n[n[u].f<n[f].f?u++:f++],l=n[u!=c&&n[u].f<n[f].f?u++:f++],n[c++]={s:-1,f:a.f+l.f,l:a,r:l};var d=o[0].s;for(r=1;r<i;++r)o[r].s>d&&(d=o[r].s);var g=new Pe(d+1),p=nu(n[c-1],g,0);if(p>e){r=0;var h=0,y=p-e,v=1<<y;for(o.sort(function(x,q){return g[q.s]-g[x.s]||x.f-q.f});r<i;++r){var C=o[r].s;if(!(g[C]>e))break;h+=v-(1<<p-g[C]),g[C]=e}for(h>>>=y;h>0;){var R=o[r].s;g[R]<e?h-=1<<e-g[R]++-1:++r}for(;r>=0&&h;--r){var M=o[r].s;g[M]==e&&(--g[M],++h)}p=e}return[new Le(g),p]},nu=function t(e,n,r){return e.s==-1?Math.max(t(e.l,n,r+1),t(e.r,n,r+1)):n[e.s]=r},eo=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Pe(++e),r=0,i=t[0],o=1,s=function(l){n[r++]=l},a=1;a<=e;++a)if(t[a]==i&&a!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)s(32754);o>2&&(s(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(s(i),--o;o>6;o-=6)s(8304);o>2&&(s(o-3<<5|8208),o=0)}for(;o--;)s(i);o=1,i=t[a]}return[n.subarray(0,r),e]},Kt=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Dn=function(t,e,n){var r=n.length,i=Js(e+2);t[i]=255&r,t[i+1]=r>>>8,t[i+2]=255^t[i],t[i+3]=255^t[i+1];for(var o=0;o<r;++o)t[i+o+4]=n[o];return 8*(i+4+r)},to=function(t,e,n,r,i,o,s,a,l,u,c){et(e,c++,n),++i[256];for(var f=pr(i,15),d=f[0],g=f[1],p=pr(o,15),h=p[0],y=p[1],v=eo(d),C=v[0],R=v[1],M=eo(h),x=M[0],q=M[1],H=new Pe(19),E=0;E<C.length;++E)H[31&C[E]]++;for(E=0;E<x.length;++E)H[31&x[E]]++;for(var Y=pr(H,7),L=Y[0],P=Y[1],U=19;U>4&&!L[Ki[U-1]];--U);var z,W,oe,ve,he=u+5<<3,$=Kt(i,xt)+Kt(o,Zn)+s,B=Kt(i,d)+Kt(o,h)+s+14+3*U+Kt(H,L)+(2*H[16]+3*H[17]+7*H[18]);if(he<=$&&he<=B)return Dn(e,c,t.subarray(l,l+u));if(et(e,c,1+(B<$)),c+=2,B<$){z=an(d,g,0),W=d,oe=an(h,y,0),ve=h;var xe=an(L,P,0);for(et(e,c,R-257),et(e,c+5,q-1),et(e,c+10,U-4),c+=14,E=0;E<U;++E)et(e,c+3*E,L[Ki[E]]);c+=3*U;for(var Ee=[C,x],K=0;K<2;++K){var se=Ee[K];for(E=0;E<se.length;++E){var Z=31&se[E];et(e,c,xe[Z]),c+=L[Z],Z>15&&(et(e,c,se[E]>>>5&127),c+=se[E]>>>12)}}}else z=eu,W=xt,oe=tu,ve=Zn;for(E=0;E<a;++E)if(r[E]>255){Z=r[E]>>>18&31,Xt(e,c,z[Z+257]),c+=W[Z+257],Z>7&&(et(e,c,r[E]>>>23&31),c+=ni[Z]);var me=31&r[E];Xt(e,c,oe[me]),c+=ve[me],me>3&&(Xt(e,c,r[E]>>>5&8191),c+=ri[me])}else Xt(e,c,z[r[E]]),c+=W[r[E]];return Xt(e,c,z[256]),c+W[256]},ru=new jt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),iu=new Le(0),ou=function(){for(var t=new jt(256),e=0;e<256;++e){for(var n=e,r=9;--r;)n=(1&n&&3988292384)^n>>>1;t[e]=n}return t}(),su=function(){var t=4294967295;return{p:function(e){for(var n=t,r=0;r<e.length;++r)n=ou[255&n^e[r]]^n>>>8;t=n},d:function(){return 4294967295^t}}},au=function(t,e,n,r,i){return function(o,s,a,l,u,c){var f=o.length,d=new Le(l+f+5*(1+Math.floor(f/7e3))+u),g=d.subarray(l,d.length-u),p=0;if(!s||f<8)for(var h=0;h<=f;h+=65535){var y=h+65535;y<f?p=Dn(g,p,o.subarray(h,y)):(g[h]=c,p=Dn(g,p,o.subarray(h,f)))}else{for(var v=ru[s-1],C=v>>>13,R=8191&v,M=(1<<a)-1,x=new Pe(32768),q=new Pe(M+1),H=Math.ceil(a/3),E=2*H,Y=function(ce){return(o[ce]^o[ce+1]<<H^o[ce+2]<<E)&M},L=new jt(25e3),P=new Pe(288),U=new Pe(32),z=0,W=0,oe=(h=0,0),ve=0,he=0;h<f;++h){var $=Y(h),B=32767&h,xe=q[$];if(x[B]=xe,q[$]=B,ve<=h){var Ee=f-h;if((z>7e3||oe>24576)&&Ee>423){p=to(o,g,0,L,P,U,W,oe,he,h-he,p),oe=z=W=0,he=h;for(var K=0;K<286;++K)P[K]=0;for(K=0;K<30;++K)U[K]=0}var se=2,Z=0,me=R,Re=B-xe&32767;if(Ee>2&&$==Y(h-Re))for(var Fe=Math.min(C,Ee)-1,st=Math.min(32767,h),Gt=Math.min(258,Ee);Re<=st&&--me&&B!=xe;){if(o[h+se]==o[h+se-Re]){for(var $e=0;$e<Gt&&o[h+$e]==o[h+$e-Re];++$e);if($e>se){if(se=$e,Z=Re,$e>Fe)break;var vn=Math.min(Re,$e-2),ze=0;for(K=0;K<vn;++K){var Ce=h-Re+K+32768&32767,Mt=Ce-x[Ce]+32768&32767;Mt>ze&&(ze=Mt,xe=Ce)}}}Re+=(B=xe)-(xe=x[B])+32768&32767}if(Z){L[oe++]=268435456|Or[se]<<18|Zi[Z];var Yt=31&Or[se],Ze=31&Zi[Z];W+=ni[Yt]+ri[Ze],++P[257+Yt],++U[Ze],ve=h+se,++z}else L[oe++]=o[h],++P[o[h]]}}p=to(o,g,c,L,P,U,W,oe,he,h-he,p),c||(p=Dn(g,p,iu))}return Qs(d,0,l+Js(p)+u)}(t,e.level==null?6:e.level,e.mem==null?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(t.length)))):12+e.mem,n,r,!i)},Tr=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},lu=function(t,e){var n=e.filename;if(t[0]=31,t[1]=139,t[2]=8,t[8]=e.level<2?4:e.level==9?2:0,t[9]=3,e.mtime!=0&&Tr(t,4,Math.floor(new Date(e.mtime||Date.now())/1e3)),n){t[3]=8;for(var r=0;r<=n.length;++r)t[r+10]=n.charCodeAt(r)}},uu=function(t){return 10+(t.filename&&t.filename.length+1||0)};function cu(t,e){e===void 0&&(e={});var n=su(),r=t.length;n.p(t);var i=au(t,e,uu(e),8),o=i.length;return lu(i,e),Tr(i,o-8,n.d()),Tr(i,o-4,r),i}function fu(t,e){var n=t.length;if(!e&&typeof TextEncoder<"u")return new TextEncoder().encode(t);for(var r=new Le(t.length+(t.length>>>1)),i=0,o=function(u){r[i++]=u},s=0;s<n;++s){if(i+5>r.length){var a=new Le(i+8+(n-s<<1));a.set(r),r=a}var l=t.charCodeAt(s);l<128||e?o(l):l<2048?(o(192|l>>>6),o(128|63&l)):l>55295&&l<57344?(o(240|(l=65536+(1047552&l)|1023&t.charCodeAt(++s))>>>18),o(128|l>>>12&63),o(128|l>>>6&63),o(128|63&l)):(o(224|l>>>12),o(128|l>>>6&63),o(128|63&l))}return Qs(r,0,i)}(function(t){t.GZipJS="gzip-js",t.Base64="base64"})(_t||(_t={}));var Xs=function(t,e,n){var r=e||{};r.ip=n.ip?1:0,r._=new Date().getTime().toString(),r.ver=St.LIB_VERSION;var i=t.split("?");if(i.length>1){var o,s=kt(i[1].split("&"));try{for(s.s();!(o=s.n()).done;){var a=o.value.split("=")[0];V(r[a])||delete r[a]}}catch(u){s.e(u)}finally{s.f()}}var l=t.indexOf("?")>-1?"&":"?";return t+l+function(u){var c,f,d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"&",g=[];return J(u,function(p,h){V(p)||V(h)||h==="undefined"||(c=encodeURIComponent(p.toString()),f=encodeURIComponent(h),g[g.length]=f+"="+c)}),g.join(d)}(r)},ii=function t(e,n){if(n.blob&&e.buffer)return new Blob([Ii(e)?e:e.buffer],{type:"text/plain"});if(n.sendBeacon||n.blob){var r=t(e,{method:"POST"});return new Blob([r],{type:"application/x-www-form-urlencoded"})}return n.method!=="POST"?null:(i=pe(e)||Ii(e)?"data="+encodeURIComponent(e):"data="+encodeURIComponent(e.data),"compression"in e&&e.compression&&(i+="&compression="+e.compression),i);var i},Ks=function(t){var e=t.url,n=t.data,r=t.headers,i=t.options,o=t.callback,s=t.retriesPerformedSoFar,a=t.retryQueue,l=t.onXHRError,u=t.timeout,c=u===void 0?6e4:u,f=t.onResponse;nt(s)&&s>0&&(e=Xs(e,{retry_count:s},{}));var d=new XMLHttpRequest;d.open(i.method||"GET",e,!0);var g=ii(n,i);J(r,function(p,h){d.setRequestHeader(h,p)}),i.method!=="POST"||i.blob||d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.timeout=c,d.withCredentials=!0,d.onreadystatechange=function(){if(d.readyState===4)if(f==null||f(d),d.status===200){if(o){var p;try{p=JSON.parse(d.responseText)}catch(h){return void S.error(h)}o(p)}}else Ve(l)&&l(d),(d.status<400||d.status>500)&&a.enqueue({url:e,data:n,options:i,headers:r,retriesPerformedSoFar:(s||0)+1,callback:o}),o==null||o({status:0})},d.send(g)},du=18e5,hu=function(t){Es(n,Ws);var e=Rs(n);function n(r,i){var o;return re(this,n),(o=e.call(this)).isPolling=!1,o.queue=[],o.areWeOnline=!0,o.onXHRError=r,o.rateLimiter=i,!V(_)&&"onLine"in _.navigator&&(o.areWeOnline=_.navigator.onLine,_.addEventListener("online",function(){o._handleWeAreNowOnline()}),_.addEventListener("offline",function(){o.areWeOnline=!1})),o}return ie(n,[{key:"enqueue",value:function(r){var i=r.retriesPerformedSoFar||0;if(!(i>=10)){var o=function(l){var u=3e3*Math.pow(2,l),c=u/2,f=Math.min(du,u),d=(Math.random()-.5)*(f-c);return Math.ceil(f+d)}(i),s=new Date(Date.now()+o);this.queue.push({retryAt:s,requestData:r});var a="Enqueued failed request for retry in ".concat(o);navigator.onLine||(a+=" (Browser is offline)"),S.warn(a),this.isPolling||(this.isPolling=!0,this.poll())}}},{key:"poll",value:function(){var r=this;this._poller&&clearTimeout(this._poller),this._poller=setTimeout(function(){r.areWeOnline&&r.queue.length>0&&r.flush(),r.poll()},this._pollInterval)}},{key:"flush",value:function(){var r=new Date(Date.now()),i=this.queue.filter(function(l){return l.retryAt<r});if(i.length>0){this.queue=this.queue.filter(function(l){return l.retryAt>=r});var o,s=kt(i);try{for(s.s();!(o=s.n()).done;){var a=o.value.requestData;this._executeXhrRequest(a)}}catch(l){s.e(l)}finally{s.f()}}}},{key:"unload",value:function(){this._poller&&(clearTimeout(this._poller),this._poller=void 0);var r,i=kt(this.queue);try{for(i.s();!(r=i.n()).done;){var o=r.value.requestData,s=o.url,a=o.data,l=o.options;if(this.rateLimiter.isRateLimited(l._batchKey))S.warn("[RetryQueue] is quota limited. Dropping request.");else try{_==null||_.navigator.sendBeacon(s,ii(a,O(O({},l),{},{sendBeacon:!0})))}catch(u){S.error(u)}}}catch(u){i.e(u)}finally{i.f()}this.queue=[]}},{key:"_executeXhrRequest",value:function(r){var i=r.url,o=r.data,s=r.options,a=r.headers,l=r.callback,u=r.retriesPerformedSoFar;this.rateLimiter.isRateLimited(s._batchKey)||Ks({url:i,data:o||{},options:s||{},headers:a||{},retriesPerformedSoFar:u||0,callback:l,retryQueue:this,onXHRError:this.onXHRError,onResponse:this.rateLimiter.checkForLimiting})}},{key:"_handleWeAreNowOnline",value:function(){this.areWeOnline=!0,this.flush()}}]),n}(),xn=1800,no=60,gu=864e5,pu=function(){function t(e,n,r,i){re(this,t),F(this,"_sessionIdChangedHandlers",[]),this.config=e,this.persistence=n,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=r||vt,this._windowIdGenerator=i||vt;var o=e.persistence_name||e.token,s=e.session_idle_timeout_seconds||xn;if(nt(s)?s>xn?S.warn("session_idle_timeout_seconds cannot be  greater than 30 minutes. Using 30 minutes instead."):s<no&&S.warn("session_idle_timeout_seconds cannot be less than 60 seconds. Using 60 seconds instead."):(S.warn("session_idle_timeout_seconds must be a number. Defaulting to 30 minutes."),s=xn),this._sessionTimeoutMs=1e3*Math.min(Math.max(s,no),xn),this._window_id_storage_key="ph_"+o+"_window_id",this._primary_window_exists_storage_key="ph_"+o+"_primary_window_exists",this._canUseSessionStorage()){var a=we.parse(this._window_id_storage_key),l=we.parse(this._primary_window_exists_storage_key);a&&!l?this._windowId=a:we.remove(this._window_id_storage_key),we.set(this._primary_window_exists_storage_key,!0)}this._listenToReloadWindow()}return ie(t,[{key:"onSessionId",value:function(e){var n=this;return V(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),function(){n._sessionIdChangedHandlers=n._sessionIdChangedHandlers.filter(function(r){return r!==e})}}},{key:"_canUseSessionStorage",value:function(){return this.config.persistence!=="memory"&&!this.persistence.disabled&&we.is_supported()}},{key:"_setWindowId",value:function(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&we.set(this._window_id_storage_key,e))}},{key:"_getWindowId",value:function(){return this._windowId?this._windowId:this._canUseSessionStorage()?we.parse(this._window_id_storage_key):null}},{key:"_setSessionId",value:function(e,n,r){e===this._sessionId&&n===this._sessionActivityTimestamp&&r===this._sessionStartTimestamp||(this._sessionStartTimestamp=r,this._sessionActivityTimestamp=n,this._sessionId=e,this.persistence.register(F({},Qn,[n,e,r])))}},{key:"_getSessionId",value:function(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[Qn];return pe(e)&&e.length===2&&e.push(e[0]),e||[0,null,0]}},{key:"resetSessionId",value:function(){this._setSessionId(null,null,null)}},{key:"_listenToReloadWindow",value:function(){var e=this;_==null||_.addEventListener("beforeunload",function(){e._canUseSessionStorage()&&we.remove(e._primary_window_exists_storage_key)})}},{key:"checkAndGetSessionAndWindowId",value:function(){var e=arguments.length>0&&arguments[0]!==void 0&&arguments[0],n=(arguments.length>1&&arguments[1]!==void 0?arguments[1]:null)||new Date().getTime(),r=je(this._getSessionId(),3),i=r[0],o=r[1],s=r[2],a=this._getWindowId(),l=s&&s>0&&Math.abs(n-s)>gu,u=!1,c=!o,f=!e&&Math.abs(n-i)>this._sessionTimeoutMs;c||f||l?(o=this._sessionIdGenerator(),a=this._windowIdGenerator(),s=n,u=!0):a||(a=this._windowIdGenerator(),u=!0);var d=i===0||!e||l?n:i,g=s===0?new Date().getTime():s;return this._setWindowId(a),this._setSessionId(o,d,g),u&&this._sessionIdChangedHandlers.forEach(function(p){return p(o,a)}),{sessionId:o,windowId:a,sessionStartTimestamp:g}}}]),t}(),_u=ie(function t(e,n,r,i){re(this,t),this.name="posthog-js",this.setupOnce=function(o){o(function(s){var a,l,u,c,f;if(s.level!=="error"||!e.__loaded)return s;s.tags||(s.tags={});var d=e.config.ui_host||e.config.api_host;s.tags["PostHog Person URL"]=d+"/person/"+e.get_distinct_id(),e.sessionRecordingStarted()&&(s.tags["PostHog Recording URL"]=e.get_session_replay_url({withTimestamp:!0}));var g=((a=s.exception)===null||a===void 0?void 0:a.values)||[],p={$exception_message:(l=g[0])===null||l===void 0?void 0:l.value,$exception_type:(u=g[0])===null||u===void 0?void 0:u.type,$exception_personURL:d+"/person/"+e.get_distinct_id(),$sentry_event_id:s.event_id,$sentry_exception:s.exception,$sentry_exception_message:(c=g[0])===null||c===void 0?void 0:c.value,$sentry_exception_type:(f=g[0])===null||f===void 0?void 0:f.type,$sentry_tags:s.tags};return n&&r&&(p.$sentry_url=(i||"https://sentry.io/organizations/")+n+"/issues/?project="+r+"&query="+s.event_id),e.capture("$exception",p),s})}}),vu=function(t){Promise&&Promise.resolve||S.warn("This browser does not have Promise support, and can not use the segment integration");var e=function(n,r){n.event.userId||n.event.anonymousId===t.get_distinct_id()||t.reset(),n.event.userId&&n.event.userId!==t.get_distinct_id()&&(t.register({distinct_id:n.event.userId}),t.reloadFeatureFlags());var i=t._calculate_event_properties(r,n.event.properties);return n.event.properties=Object.assign({},i,n.event.properties),n};return{name:"PostHog JS",type:"enrichment",version:"1.0.0",isLoaded:function(){return!0},load:function(){return Promise.resolve()},track:function(n){return e(n,n.event.event)},page:function(n){return e(n,"$pageview")},identify:function(n){return e(n,"$identify")},screen:function(n){return e(n,"$screen")}}},mu=function(){function t(){var e=this;re(this,t),F(this,"_hasSeenPageView",!1),F(this,"_updateScrollData",function(){var n,r,i,o;e._pageViewData||(e._pageViewData=e._createPageViewData());var s=e._pageViewData,a=e._scrollY(),l=e._scrollHeight(),u=e._contentY(),c=e._contentHeight();s.lastScrollY=a,s.maxScrollY=Math.max(a,(n=s.maxScrollY)!==null&&n!==void 0?n:0),s.maxScrollHeight=Math.max(l,(r=s.maxScrollHeight)!==null&&r!==void 0?r:0),s.lastContentY=u,s.maxContentY=Math.max(u,(i=s.maxContentY)!==null&&i!==void 0?i:0),s.maxContentHeight=Math.max(c,(o=s.maxContentHeight)!==null&&o!==void 0?o:0)})}return ie(t,[{key:"_createPageViewData",value:function(){var e;return{pathname:(e=_==null?void 0:_.location.pathname)!==null&&e!==void 0?e:""}}},{key:"doPageView",value:function(){var e,n;return this._hasSeenPageView?(n=this._pageViewData,this._pageViewData=this._createPageViewData()):(this._hasSeenPageView=!0,n=void 0,this._pageViewData||(this._pageViewData=this._createPageViewData())),setTimeout(this._updateScrollData,0),O({$prev_pageview_pathname:(e=n)===null||e===void 0?void 0:e.pathname},this._calculatePrevPageScrollProperties(n))}},{key:"doPageLeave",value:function(){var e=this._pageViewData;return O({$prev_pageview_pathname:e==null?void 0:e.pathname},this._calculatePrevPageScrollProperties(e))}},{key:"_calculatePrevPageScrollProperties",value:function(e){if(!e||e.maxScrollHeight==null||e.lastScrollY==null||e.maxScrollY==null||e.maxContentHeight==null||e.lastContentY==null||e.maxContentY==null)return{};var n=e.maxScrollHeight,r=e.lastScrollY,i=e.maxScrollY,o=e.maxContentHeight,s=e.lastContentY,a=e.maxContentY;return n=Math.ceil(n),r=Math.ceil(r),i=Math.ceil(i),o=Math.ceil(o),s=Math.ceil(s),a=Math.ceil(a),{$prev_pageview_last_scroll:r,$prev_pageview_last_scroll_percentage:n<=1?1:Fn(r/n,0,1),$prev_pageview_max_scroll:i,$prev_pageview_max_scroll_percentage:n<=1?1:Fn(i/n,0,1),$prev_pageview_last_content:s,$prev_pageview_last_content_percentage:o<=1?1:Fn(s/o,0,1),$prev_pageview_max_content:a,$prev_pageview_max_content_percentage:o<=1?1:Fn(a/o,0,1)}}},{key:"startMeasuringScrollPosition",value:function(){_==null||_.addEventListener("scroll",this._updateScrollData),_==null||_.addEventListener("scrollend",this._updateScrollData),_==null||_.addEventListener("resize",this._updateScrollData)}},{key:"stopMeasuringScrollPosition",value:function(){_==null||_.removeEventListener("scroll",this._updateScrollData),_==null||_.removeEventListener("scrollend",this._updateScrollData),_==null||_.removeEventListener("resize",this._updateScrollData)}},{key:"_scrollHeight",value:function(){return _?Math.max(0,_.document.documentElement.scrollHeight-_.document.documentElement.clientHeight):0}},{key:"_scrollY",value:function(){return _&&(_.scrollY||_.pageYOffset||_.document.documentElement.scrollTop)||0}},{key:"_contentHeight",value:function(){return(_==null?void 0:_.document.documentElement.scrollHeight)||0}},{key:"_contentY",value:function(){var e=(_==null?void 0:_.document.documentElement.clientHeight)||0;return this._scrollY()+e}}]),t}();function Fn(t,e,n){return Math.max(e,Math.min(t,n))}var fn,oi,be,yu={icontains:function(t){return!!_&&_.location.href.toLowerCase().indexOf(t.toLowerCase())>-1},regex:function(t){return!!_&&Il(_.location.href,t)},exact:function(t){return(_==null?void 0:_.location.href)===t}},bu=function(){function t(e){re(this,t),this.instance=e}return ie(t,[{key:"getSurveys",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1],i=this.instance.get_property(Er);if(i&&!r)return e(i);this.instance._send_request("".concat(this.instance.config.api_host,"/api/surveys/?token=").concat(this.instance.config.token),{},{method:"GET"},function(o){var s,a=o.surveys||[];return(s=n.instance.persistence)===null||s===void 0||s.register(F({},Er,a)),e(a)})}},{key:"getActiveMatchingSurveys",value:function(e){var n=this,r=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.getSurveys(function(i){var o=i.filter(function(s){return!(!s.start_date||s.end_date)}).filter(function(s){var a,l,u,c;if(!s.conditions)return!0;var f=(a=s.conditions)===null||a===void 0||!a.url||yu[(l=(u=s.conditions)===null||u===void 0?void 0:u.urlMatchType)!==null&&l!==void 0?l:"icontains"](s.conditions.url),d=(c=s.conditions)===null||c===void 0||!c.selector||(I==null?void 0:I.querySelector(s.conditions.selector));return f&&d}).filter(function(s){if(!s.linked_flag_key&&!s.targeting_flag_key)return!0;var a=!s.linked_flag_key||n.instance.featureFlags.isFeatureEnabled(s.linked_flag_key),l=!s.targeting_flag_key||n.instance.featureFlags.isFeatureEnabled(s.targeting_flag_key);return a&&l});return e(o)},r)}}]),t}(),wu=6e4,ku=function(){function t(){var e=this;re(this,t),F(this,"limits",{}),F(this,"checkForLimiting",function(n){try{var r=n.responseText;if(!r||!r.length)return;(JSON.parse(r).quota_limited||[]).forEach(function(i){S.info("[RateLimiter] ".concat(i||"events"," is quota limited.")),e.limits[i]=new Date().getTime()+wu})}catch(i){return void S.error(i)}})}return ie(t,[{key:"isRateLimited",value:function(e){var n=this.limits[e||"events"]||!1;return n!==!1&&new Date().getTime()<n}}]),t}(),Su=function(){return O({initialPathName:(_==null?void 0:_.location.pathname)||"",referringDomain:de.referringDomain()},de.campaignParams())},xu=function(){function t(e,n,r){var i=this;re(this,t),F(this,"_onSessionIdCallback",function(o){var s=i._getStoredProps();if(!s||s.sessionId!==o){var a={sessionId:o,props:i._sessionSourceParamGenerator()};i._persistence.register(F({},Cr,a))}}),this._sessionIdManager=e,this._persistence=n,this._sessionSourceParamGenerator=r||Su,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}return ie(t,[{key:"_getStoredProps",value:function(){return this._persistence.props[Cr]}},{key:"getSessionProps",value:function(){var e,n=(e=this._getStoredProps())===null||e===void 0?void 0:e.props;return n?{$client_session_initial_referring_host:n.referringDomain,$client_session_initial_pathname:n.initialPathName,$client_session_initial_utm_source:n.utm_source,$client_session_initial_utm_campaign:n.utm_campaign,$client_session_initial_utm_medium:n.utm_medium,$client_session_initial_utm_content:n.utm_content,$client_session_initial_utm_term:n.utm_term}:{}}}]),t}(),Fu=["ahrefsbot","applebot","baiduspider","bingbot","bingpreview","bot.htm","bot.php","crawler","duckduckbot","facebookexternal","facebookcatalog","gptbot","hubspot","linkedinbot","mj12bot","petalbot","pinterest","prerender","rogerbot","screaming frog","semrushbot","sitebulb","twitterbot","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"],Mu=function(t,e){if(!t)return!1;var n=t.toLowerCase();return Fu.concat(e||[]).some(function(r){var i=r.toLowerCase();return n.includes?n.includes(i):n.indexOf(i)!==-1})};(function(t){t[t.INIT_MODULE=0]="INIT_MODULE",t[t.INIT_SNIPPET=1]="INIT_SNIPPET"})(fn||(fn={}));var Nr=function(){},Mn={},Te="posthog",Ln=(_==null?void 0:_.XMLHttpRequest)&&"withCredentials"in new XMLHttpRequest,Zs=!Ln&&(fe==null?void 0:fe.indexOf("MSIE"))===-1&&(fe==null?void 0:fe.indexOf("Mozilla"))===-1,ro=function(){var t,e,n;return{api_host:"https://app.posthog.com",api_method:"POST",api_transport:"XHR",ui_host:null,token:"",autocapture:!0,rageclick:!0,cross_subdomain_cookie:(e=I==null?void 0:I.location,n=e==null?void 0:e.hostname,!!De(n)&&n.split(".").slice(-2).join(".")!=="herokuapp.com"),persistence:"localStorage+cookie",persistence_name:"",cookie_name:"",loaded:Nr,store_google:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:!0,debug:!1,verbose:!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_cookie:!1,enable_recording_console_log:void 0,secure_cookie:(_==null||(t=_.location)===null||t===void 0?void 0:t.protocol)==="https:",ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_capturing_persistence_type:"localStorage",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_blacklist:[],respect_dnt:!1,sanitize_properties:null,xhr_headers:{},inapp_protocol:"//",inapp_link_new_window:!1,request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,on_xhr_error:function(r){var i="Bad HTTP status: "+r.status+" "+r.statusText;S.error(i)},get_device_id:function(r){return r},_onCapture:Nr,capture_performance:void 0,name:"posthog",callback_fn:"posthog._jsc",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800}},Dr=function(t,e,n,r){var i,o=n!==Te&&be?n?be[n]:void 0:be,s={initComplete:!1,syncCode:!1},a=function(l){return function(u){s[l]||(s[l]=!0,s.initComplete&&s.syncCode&&(r==null||r(u)))}};if(o&&oi===fn.INIT_MODULE)i=o;else{if(o&&!pe(o))return void S.error("You have already initialized "+n);i=new si}return i._init(t,e,n,a("initComplete")),i.toolbar.maybeLoadToolbar(),i.sessionRecording=new jl(i),i.sessionRecording.startRecordingIfEnabled(),i.config.__preview_measure_pageview_stats&&i.pageViewManager.startMeasuringScrollPosition(),i.__autocapture=i.config.autocapture,ft._setIsAutocaptureEnabled(i),ft._isAutocaptureEnabled&&(i.__autocapture=i.config.autocapture,ft.enabledForProject(i.config.token,100,100)?ft.isBrowserSupported()?ft.init(i):(i.__autocapture=!1,S.info("Disabling Automatic Event Collection because this browser is not supported")):(i.__autocapture=!1,S.info("Not in active bucket: disabling Automatic Event Collection."))),St.DEBUG=St.DEBUG||i.config.debug,!V(o)&&pe(o)&&(i._execute_array.call(i.people,o.people),i._execute_array(o)),a("syncCode")(i),i},Pu=function(){function t(){re(this,t),F(this,"__forceAllowLocalhost",!1)}return ie(t,[{key:"_forceAllowLocalhost",get:function(){return this.__forceAllowLocalhost},set:function(e){S.error("WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`"),this.__forceAllowLocalhost=e}}]),t}(),si=function(){function t(){var e=this;re(this,t),F(this,"webPerformance",new Pu),this.config=ro(),this.compression={},this.decideEndpointWasHit=!1,this.SentryIntegration=_u,this.segmentIntegration=function(){return vu(e)},this.__captureHooks=[],this.__request_queue=[],this.__loaded=!1,this.__loaded_recorder_version=void 0,this.__autocapture=void 0,this._jsc=function(){},this.analyticsDefaultEndpoint="/e/",this.elementsChainAsString=!1,this.featureFlags=new _l(this),this.toolbar=new Wl(this),this.pageViewManager=new mu,this.surveys=new bu(this),this.rateLimiter=new ku,this.people={set:function(n,r,i){var o=De(n)?F({},n,r):n;e.setPersonProperties(o),i==null||i({})},set_once:function(n,r,i){var o=De(n)?F({},n,r):n;e.setPersonProperties(void 0,o),i==null||i({})}}}return ie(t,[{key:"init",value:function(e,n,r){if(V(r))S.critical("You must name your new library: init(token, config, name)");else{if(r!==Te){var i=Dr(e,n,r,function(o){be[r]=o,o._loaded()});return be[r]=i,i}S.critical("You must initialize the main posthog object right after you include the PostHog js snippet")}}},{key:"_init",value:function(e){var n,r,i,o=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2?arguments[2]:void 0,l=arguments.length>3?arguments[3]:void 0;this.__loaded=!0,this.config={},this._triggered_notifs=[];var u,c={segmentRegister:!1,syncCode:!1},f=function(x){return function(){c[x]||(c[x]=!0,c.segmentRegister&&c.syncCode&&(l==null||l(o)))}};if(this.set_config(ye({},ro(),s,{name:a,token:e,callback_fn:(a===Te?a:Te+"."+a)+"._jsc"})),this._jsc=function(){},(_!=null&&(n=_.rrweb)!==null&&n!==void 0&&n.record||_!=null&&_.rrwebRecord)&&(this.__loaded_recorder_version=_==null||(u=_.rrweb)===null||u===void 0?void 0:u.version),this.persistence=new Gi(this.config),this._requestQueue=new Kl(this._handle_queued_event.bind(this)),this._retryQueue=new hu(this.config.on_xhr_error,this.rateLimiter),this.__captureHooks=[],this.__request_queue=[],this.sessionManager=new pu(this.config,this.persistence),this.sessionPropsManager=new xu(this.sessionManager,this.persistence),this.sessionPersistence=this.config.persistence==="sessionStorage"?this.persistence:new Gi(O(O({},this.config),{},{persistence:"sessionStorage"})),this._gdpr_init(),s.segment?(this.config.get_device_id=function(){return s.segment.user().anonymousId()},s.segment.user().id()&&(this.register({distinct_id:s.segment.user().id()}),this.persistence.set_user_state("identified")),s.segment.register(this.segmentIntegration()).then(f("segmentRegister"))):f("segmentRegister")(),((r=s.bootstrap)===null||r===void 0?void 0:r.distinctID)!==void 0){var d,g,p=this.config.get_device_id(vt()),h=(d=s.bootstrap)!==null&&d!==void 0&&d.isIdentifiedID?p:s.bootstrap.distinctID;this.persistence.set_user_state((g=s.bootstrap)!==null&&g!==void 0&&g.isIdentifiedID?"identified":"anonymous"),this.register({distinct_id:s.bootstrap.distinctID,$device_id:h})}if(this._hasBootstrappedFeatureFlags()){var y,v,C=Object.keys(((y=s.bootstrap)===null||y===void 0?void 0:y.featureFlags)||{}).filter(function(x){var q,H;return!((q=s.bootstrap)===null||q===void 0||(H=q.featureFlags)===null||H===void 0||!H[x])}).reduce(function(x,q){var H,E;return x[q]=((H=s.bootstrap)===null||H===void 0||(E=H.featureFlags)===null||E===void 0?void 0:E[q])||!1,x},{}),R=Object.keys(((v=s.bootstrap)===null||v===void 0?void 0:v.featureFlagPayloads)||{}).filter(function(x){return C[x]}).reduce(function(x,q){var H,E,Y,L;return(H=s.bootstrap)!==null&&H!==void 0&&(E=H.featureFlagPayloads)!==null&&E!==void 0&&E[q]&&(x[q]=(Y=s.bootstrap)===null||Y===void 0||(L=Y.featureFlagPayloads)===null||L===void 0?void 0:L[q]),x},{});this.featureFlags.receivedFeatureFlags({featureFlags:C,featureFlagPayloads:R})}if(!this.get_distinct_id()){var M=this.config.get_device_id(vt());this.register_once({distinct_id:M,$device_id:M},""),this.persistence.set_user_state("anonymous")}_==null||(i=_.addEventListener)===null||i===void 0||i.call(_,"onpagehide"in self?"pagehide":"unload",this._handle_unload.bind(this)),f("syncCode")()}},{key:"_afterDecideResponse",value:function(e){var n;if(this.compression={},e.supportedCompression&&!this.config.disable_compression){var r,i={},o=kt(e.supportedCompression);try{for(o.s();!(r=o.n()).done;)i[r.value]=!0}catch(s){o.e(s)}finally{o.f()}this.compression=i}(n=e.analytics)!==null&&n!==void 0&&n.endpoint&&(this.analyticsDefaultEndpoint=e.analytics.endpoint),e.elementsChainAsString&&(this.elementsChainAsString=e.elementsChainAsString)}},{key:"_loaded",value:function(){var e=this.config.advanced_disable_decide;e||this.featureFlags.setReloadingPaused(!0);try{this.config.loaded(this)}catch(n){S.critical("`loaded` function failed",n)}this._start_queue_if_opted_in(),this.config.capture_pageview&&I&&this.capture("$pageview",{title:I.title},{send_instantly:!0}),e||(new Hl(this).call(),this.featureFlags.resetRequestQueue())}},{key:"_start_queue_if_opted_in",value:function(){var e;this.has_opted_out_capturing()||this.config.request_batching&&((e=this._requestQueue)===null||e===void 0||e.poll())}},{key:"_dom_loaded",value:function(){var e=this;this.has_opted_out_capturing()||Bt(this.__request_queue,function(n){e._send_request.apply(e,Sr(n))}),this.__request_queue=[],this._start_queue_if_opted_in()}},{key:"_prepare_callback",value:function(e,n){if(V(e))return null;if(Ln)return function(s){e(s,n)};var r=this._jsc,i=""+Math.floor(1e8*Math.random()),o=this.config.callback_fn+"["+i+"]";return r[i]=function(s){delete r[i],e(s,n)},o}},{key:"_handle_unload",value:function(){var e,n;this.config.request_batching?(this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave"),(e=this._requestQueue)===null||e===void 0||e.unload(),(n=this._retryQueue)===null||n===void 0||n.unload()):this.config.capture_pageview&&this.config.capture_pageleave&&this.capture("$pageleave",null,{transport:"sendBeacon"})}},{key:"_handle_queued_event",value:function(e,n,r){var i=JSON.stringify(n);this.__compress_and_send_json_request(e,i,r||Mn,Nr)}},{key:"__compress_and_send_json_request",value:function(e,n,r,i){var o=function(u,c,f){return u===_t.GZipJS?[cu(fu(c),{mtime:0}),O(O({},f),{},{blob:!0,urlQueryArgs:{compression:_t.GZipJS}})]:[{data:Kr(c)},f]}(this.compression[_t.GZipJS]?_t.GZipJS:_t.Base64,n,r),s=je(o,2),a=s[0],l=s[1];this._send_request(e,a,l,i)}},{key:"_send_request",value:function(e,n,r,i){if(this.__loaded&&this._retryQueue&&!this.rateLimiter.isRateLimited(r._batchKey))if(Zs)this.__request_queue.push([e,n,r,i]);else{var o={method:this.config.api_method,transport:this.config.api_transport,verbose:this.config.verbose};r=ye(o,r||{}),Ln||(r.method="GET");var s=_&&"sendBeacon"in _.navigator&&r.transport==="sendBeacon";if(e=Xs(e,r.urlQueryArgs||{},{ip:this.config.ip}),s)try{_==null||_.navigator.sendBeacon(e,ii(n,O(O({},r),{},{sendBeacon:!0})))}catch{}else if(Ln||!I)try{Ks({url:e,data:n,headers:this.config.xhr_headers,options:r,callback:i,retriesPerformedSoFar:0,retryQueue:this._retryQueue,onXHRError:this.config.on_xhr_error,onResponse:this.rateLimiter.checkForLimiting})}catch(c){S.error(c)}else{var a,l=I.createElement("script");l.type="text/javascript",l.async=!0,l.defer=!0,l.src=e;var u=I.getElementsByTagName("script")[0];(a=u.parentNode)===null||a===void 0||a.insertBefore(l,u)}}}},{key:"_execute_array",value:function(e){var n,r=this,i=[],o=[],s=[];Bt(e,function(l){l&&(n=l[0],pe(n)?s.push(l):Ve(l)?l.call(r):pe(l)&&n==="alias"?i.push(l):pe(l)&&n.indexOf("capture")!==-1&&Ve(r[n])?s.push(l):o.push(l))});var a=function(l,u){Bt(l,function(c){if(pe(c[0])){var f=u;J(c,function(d){f=f[d[0]].apply(f,d.slice(1))})}else this[c[0]].apply(this,c.slice(1))},u)};a(i,this),a(o,this),a(s,this)}},{key:"_hasBootstrappedFeatureFlags",value:function(){var e,n;return((e=this.config.bootstrap)===null||e===void 0?void 0:e.featureFlags)&&Object.keys((n=this.config.bootstrap)===null||n===void 0?void 0:n.featureFlags).length>0||!1}},{key:"push",value:function(e){this._execute_array([e])}},{key:"capture",value:function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Mn;if(!this.__loaded||!this.sessionPersistence||!this._requestQueue)return S.uninitializedWarning("posthog.capture");if(!function(c){var f=!1;try{var d=c.config.token,g=c.config.respect_dnt,p=c.config.opt_out_capturing_persistence_type,h=c.config.opt_out_capturing_cookie_prefix||void 0,y=c.config.window;d&&(f=Xi(d,{respectDnt:g,persistenceType:p,persistencePrefix:h,window:y}))}catch(v){S.error("Unexpected error when checking capturing opt-out status: "+v)}return f}(this)){var i=(r=r||Mn).transport;if(i&&(r.transport=i),!V(e)&&De(e)){if(!fe||!Mu(fe,this.config.custom_blocked_useragents)){this.sessionPersistence.update_search_keyword(),this.config.store_google&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info();var o={uuid:vt(),event:e,properties:this._calculate_event_properties(e,n||{})};e==="$identify"&&(o.$set=r.$set,o.$set_once=r.$set_once),(o=cl(o,r._noTruncate?null:this.config.properties_string_max_length)).timestamp=r.timestamp||new Date;var s=O(O({},o.properties.$set),o.$set);ll(s)||this.setPersonPropertiesForFlags(s),S.info("send",o);var a=JSON.stringify(o),l=this.config.api_host+(r.endpoint||this.analyticsDefaultEndpoint),u=r!==Mn;return!this.config.request_batching||u&&!r._batchKey||r.send_instantly?this.__compress_and_send_json_request(l,a,r):this._requestQueue.enqueue(l,o,r),this._invokeCaptureHooks(e,o),o}}else S.error("No event name provided to posthog.capture")}}},{key:"_addCaptureHook",value:function(e){this.__captureHooks.push(e)}},{key:"_invokeCaptureHooks",value:function(e,n){this.config._onCapture(e,n),J(this.__captureHooks,function(r){return r(e)})}},{key:"_calculate_event_properties",value:function(e,n){if(!this.persistence||!this.sessionPersistence)return n;var r=this.persistence.remove_event_timer(e),i=O({},n);if(i.token=this.config.token,e==="$snapshot"){var o=O(O({},this.persistence.properties()),this.sessionPersistence.properties());return i.distinct_id=o.distinct_id,i}var s=de.properties();if(this.sessionManager){var a=this.sessionManager.checkAndGetSessionAndWindowId(),l=a.sessionId,u=a.windowId;i.$session_id=l,i.$window_id=u}if(this.sessionPropsManager&&this.config.__preview_send_client_session_params&&(e==="$pageview"||e==="$pageleave"||e==="$autocapture")){var c=this.sessionPropsManager.getSessionProps();i=ye(i,c)}if(this.config.__preview_measure_pageview_stats){var f={};e==="$pageview"?f=this.pageViewManager.doPageView():e==="$pageleave"&&(f=this.pageViewManager.doPageLeave()),i=ye(i,f)}if(e==="$pageview"&&I&&(i.title=I.title),e==="$performance_event"){var d=this.persistence.properties();return i.distinct_id=d.distinct_id,i.$current_url=s.$current_url,i}if(!V(r)){var g=new Date().getTime()-r;i.$duration=parseFloat((g/1e3).toFixed(3))}i=ye({},de.properties(),this.persistence.properties(),this.sessionPersistence.properties(),i);var p=this.config.property_blacklist;pe(p)?J(p,function(y){delete i[y]}):S.error("Invalid value for property_blacklist config: "+p);var h=this.config.sanitize_properties;return h&&(i=h(i,e)),i}},{key:"register",value:function(e,n){var r;(r=this.persistence)===null||r===void 0||r.register(e,n)}},{key:"register_once",value:function(e,n,r){var i;(i=this.persistence)===null||i===void 0||i.register_once(e,n,r)}},{key:"register_for_session",value:function(e){var n;(n=this.sessionPersistence)===null||n===void 0||n.register(e)}},{key:"unregister",value:function(e){var n;(n=this.persistence)===null||n===void 0||n.unregister(e)}},{key:"unregister_for_session",value:function(e){var n;(n=this.sessionPersistence)===null||n===void 0||n.unregister(e)}},{key:"_register_single",value:function(e,n){this.register(F({},e,n))}},{key:"getFeatureFlag",value:function(e,n){return this.featureFlags.getFeatureFlag(e,n)}},{key:"getFeatureFlagPayload",value:function(e){var n=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(n)}catch{return n}}},{key:"isFeatureEnabled",value:function(e,n){return this.featureFlags.isFeatureEnabled(e,n)}},{key:"reloadFeatureFlags",value:function(){this.featureFlags.reloadFeatureFlags()}},{key:"updateEarlyAccessFeatureEnrollment",value:function(e,n){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,n)}},{key:"getEarlyAccessFeatures",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return this.featureFlags.getEarlyAccessFeatures(e,n)}},{key:"onFeatureFlags",value:function(e){return this.featureFlags.onFeatureFlags(e)}},{key:"onSessionId",value:function(e){var n,r;return(n=(r=this.sessionManager)===null||r===void 0?void 0:r.onSessionId(e))!==null&&n!==void 0?n:function(){}}},{key:"getSurveys",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getSurveys(e,n)}},{key:"getActiveMatchingSurveys",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0&&arguments[1];this.surveys.getActiveMatchingSurveys(e,n)}},{key:"identify",value:function(e,n,r){if(!this.__loaded||!this.persistence)return S.uninitializedWarning("posthog.identify");if(e)if(["distinct_id","distinctid"].includes(e.toLowerCase()))S.critical('The string "'.concat(e,'" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else{var i=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property("$device_id")){var o=i;this.register_once({$had_persisted_distinct_id:!0,$device_id:o},"")}e!==i&&e!==this.get_property(Tn)&&(this.unregister(Tn),this.register({distinct_id:e}));var s=this.persistence.get_user_state()==="anonymous";e!==i&&s?(this.persistence.set_user_state("identified"),this.setPersonPropertiesForFlags(n||{},!1),this.capture("$identify",{distinct_id:e,$anon_distinct_id:i},{$set:n||{},$set_once:r||{}}),this.featureFlags.setAnonymousDistinctId(i)):(n||r)&&this.setPersonProperties(n,r),e!==i&&(this.reloadFeatureFlags(),this.unregister(Xn))}else S.error("Unique user id has not been set in posthog.identify")}},{key:"setPersonProperties",value:function(e,n){(e||n)&&(this.setPersonPropertiesForFlags(e||{}),this.capture("$set",{$set:e||{},$set_once:n||{}}))}},{key:"group",value:function(e,n,r){if(e&&n){var i=this.getGroups();i[e]!==n&&this.resetGroupPropertiesForFlags(e),this.register({$groups:O(O({},i),{},F({},e,n))}),r&&(this.capture("$groupidentify",{$group_type:e,$group_key:n,$group_set:r}),this.setGroupPropertiesForFlags(F({},e,r))),i[e]===n||r||this.reloadFeatureFlags()}else S.error("posthog.group requires a group type and group key")}},{key:"resetGroups",value:function(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}},{key:"setPersonPropertiesForFlags",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,n)}},{key:"resetPersonPropertiesForFlags",value:function(){this.featureFlags.resetPersonPropertiesForFlags()}},{key:"setGroupPropertiesForFlags",value:function(e){var n=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];this.featureFlags.setGroupPropertiesForFlags(e,n)}},{key:"resetGroupPropertiesForFlags",value:function(e){this.featureFlags.resetGroupPropertiesForFlags(e)}},{key:"reset",value:function(e){var n,r,i,o;if(!this.__loaded)return S.uninitializedWarning("posthog.reset");var s=this.get_property("$device_id");(n=this.persistence)===null||n===void 0||n.clear(),(r=this.sessionPersistence)===null||r===void 0||r.clear(),(i=this.persistence)===null||i===void 0||i.set_user_state("anonymous"),(o=this.sessionManager)===null||o===void 0||o.resetSessionId();var a=this.config.get_device_id(vt());this.register_once({distinct_id:a,$device_id:e?a:s},"")}},{key:"get_distinct_id",value:function(){return this.get_property("distinct_id")}},{key:"getGroups",value:function(){return this.get_property("$groups")||{}}},{key:"get_session_id",value:function(){var e,n;return(e=(n=this.sessionManager)===null||n===void 0?void 0:n.checkAndGetSessionAndWindowId(!0).sessionId)!==null&&e!==void 0?e:""}},{key:"get_session_replay_url",value:function(e){if(!this.sessionManager)return"";var n=this.config.ui_host||this.config.api_host,r=this.sessionManager.checkAndGetSessionAndWindowId(!0),i=r.sessionId,o=r.sessionStartTimestamp,s=n+"/replay/"+i;if(e!=null&&e.withTimestamp&&o){var a,l=(a=e.timestampLookBack)!==null&&a!==void 0?a:10;if(!o)return s;var u=Math.max(Math.floor((new Date().getTime()-o)/1e3)-l,0);s+="?t=".concat(u)}return s}},{key:"alias",value:function(e,n){return e===this.get_property(Bs)?(S.critical("Attempting to create alias for existing People user - aborting."),-2):(V(n)&&(n=this.get_distinct_id()),e!==n?(this._register_single(Tn,e),this.capture("$create_alias",{alias:e,distinct_id:n})):(S.warn("alias matches current distinct_id - skipping api call."),this.identify(e),-1))}},{key:"set_config",value:function(e){var n,r,i=O({},this.config);dt(e)&&(ye(this.config,e),this.config.persistence_name||(this.config.persistence_name=this.config.cookie_name),this.config.disable_persistence||(this.config.disable_persistence=this.config.disable_cookie),this.config.api_host=this.config.api_host.replace(/\/$/,""),(n=this.persistence)===null||n===void 0||n.update_config(this.config),(r=this.sessionPersistence)===null||r===void 0||r.update_config(this.config),le.is_supported()&&le.get("ph_debug")==="true"&&(this.config.debug=!0),this.config.debug&&(St.DEBUG=!0),this.sessionRecording&&!V(e.disable_session_recording)&&i.disable_session_recording!==e.disable_session_recording&&(e.disable_session_recording?this.sessionRecording.stopRecording():this.sessionRecording.startRecordingIfEnabled()))}},{key:"startSessionRecording",value:function(){this.set_config({disable_session_recording:!1})}},{key:"stopSessionRecording",value:function(){this.set_config({disable_session_recording:!0})}},{key:"sessionRecordingStarted",value:function(){var e;return!((e=this.sessionRecording)===null||e===void 0||!e.started)}},{key:"loadToolbar",value:function(e){return this.toolbar.loadToolbar(e)}},{key:"get_property",value:function(e){var n;return(n=this.persistence)===null||n===void 0?void 0:n.props[e]}},{key:"getSessionProperty",value:function(e){var n;return(n=this.sessionPersistence)===null||n===void 0?void 0:n.props[e]}},{key:"toString",value:function(){var e,n=(e=this.config.name)!==null&&e!==void 0?e:Te;return n!==Te&&(n=Te+"."+n),n}},{key:"_gdpr_init",value:function(){this.config.opt_out_capturing_persistence_type==="localStorage"&&le.is_supported()&&(!this.has_opted_in_capturing()&&this.has_opted_in_capturing({persistence_type:"cookie"})&&this.opt_in_capturing({enable_persistence:!1}),!this.has_opted_out_capturing()&&this.has_opted_out_capturing({persistence_type:"cookie"})&&this.opt_out_capturing({clear_persistence:!1}),this.clear_opt_in_out_capturing({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_capturing()?this._gdpr_update_persistence({clear_persistence:!0}):this.has_opted_in_capturing()||!this.config.opt_out_capturing_by_default&&!Xe.get("ph_optout")||(Xe.remove("ph_optout"),this.opt_out_capturing({clear_persistence:this.config.opt_out_persistence_by_default}))}},{key:"_gdpr_update_persistence",value:function(e){var n,r,i,o,s;if(e&&e.clear_persistence)i=!0;else{if(!e||!e.enable_persistence)return;i=!1}this.config.disable_persistence||((n=this.persistence)===null||n===void 0?void 0:n.disabled)===i||(o=this.persistence)===null||o===void 0||o.set_disabled(i),this.config.disable_persistence||((r=this.sessionPersistence)===null||r===void 0?void 0:r.disabled)===i||(s=this.sessionPersistence)===null||s===void 0||s.set_disabled(i)}},{key:"_gdpr_call_func",value:function(e,n){return n=ye({capture:this.capture.bind(this),persistence_type:this.config.opt_out_capturing_persistence_type,cookie_prefix:this.config.opt_out_capturing_cookie_prefix,cookie_expiration:this.config.cookie_expiration,cross_subdomain_cookie:this.config.cross_subdomain_cookie,secure_cookie:this.config.secure_cookie},n||{}),le.is_supported()||n.persistence_type!=="localStorage"||(n.persistence_type="cookie"),e(this.config.token,{capture:n.capture,captureEventName:n.capture_event_name,captureProperties:n.capture_properties,persistenceType:n.persistence_type,persistencePrefix:n.cookie_prefix,cookieExpiration:n.cookie_expiration,crossSubdomainCookie:n.cross_subdomain_cookie,secureCookie:n.secure_cookie})}},{key:"opt_in_capturing",value:function(e){e=ye({enable_persistence:!0},e||{}),this._gdpr_call_func(Yl,e),this._gdpr_update_persistence(e)}},{key:"opt_out_capturing",value:function(e){var n=ye({clear_persistence:!0},e||{});this._gdpr_call_func(Jl,n),this._gdpr_update_persistence(n)}},{key:"has_opted_in_capturing",value:function(e){return this._gdpr_call_func(Ql,e)}},{key:"has_opted_out_capturing",value:function(e){return this._gdpr_call_func(Xi,e)}},{key:"clear_opt_in_out_capturing",value:function(e){var n=ye({enable_persistence:!0},e??{});this._gdpr_call_func(Xl,n),this._gdpr_update_persistence(n)}},{key:"debug",value:function(e){e===!1?(_==null||_.console.log("You've disabled debug mode."),localStorage&&localStorage.removeItem("ph_debug"),this.set_config({debug:!1})):(_==null||_.console.log("You're now in debug mode. All calls to PostHog will be logged in your console.\nYou can disable this with `posthog.debug(false)`."),localStorage&&localStorage.setItem("ph_debug","true"),this.set_config({debug:!0}))}}]),t}();(function(t,e){for(var n=0;n<e.length;n++)t.prototype[e[n]]=Ts(t.prototype[e[n]])})(si,["identify"]);var io,oo,ut={},Iu=function(){be.init=function(t,e,n){if(n)return be[n]||(be[n]=ut[n]=Dr(t||"",e||{},n,function(i){be[n]=ut[n]=i,i._loaded()})),be[n];var r=be;return ut[Te]?r=ut[Te]:t&&(r=Dr(t,e||{},Te,function(i){ut[Te]=i,i._loaded()}),ut[Te]=r),be=r,oi===fn.INIT_SNIPPET&&(Se[Te]=be),J(ut,function(i,o){o!==Te&&(be[o]=i)}),r}},Eu=function(){function t(){t.done||(t.done=!0,Zs=!1,J(ut,function(e){e._dom_loaded()}))}I!=null&&I.addEventListener&&(I.readyState==="complete"?t():I.addEventListener("DOMContentLoaded",t,!1)),_&&on(_,"load",t,!0)};(function(t){t.Popover="popover",t.API="api"})(io||(io={})),function(t){t.Open="open",t.MultipleChoice="multiple_choice",t.SingleChoice="single_choice",t.Rating="rating",t.Link="link"}(oo||(oo={}));var so=(oi=fn.INIT_MODULE,be=new si,Iu(),be.init(),Eu(),be);function Ru(t,{delay:e=0,speed:n=50}){const r=ea(t);if(!r.length)throw new Error("This transition only works on elements with text nodes");let i=0;const o=r.map(u=>{const c=[i,i+u.textContent.length];i+=u.textContent.length;const f=u.textContent;return u.textContent="",{textNode:u,range:c,text:f}});let s=0;function a(u){for(;o[s].range[1]<u&&s<o.length;){const{textNode:c,text:f}=o[s];c.textContent=f,s++}return o[s]}const l=i*n;return{delay:e,duration:l,tick:u=>{const c=~~(i*u),{textNode:f,range:d,text:g}=a(c),[p,h]=d,y=(c-p)/(h-p)*g.length;f.textContent=g.slice(0,y)}}}function ea(t){if(t.nodeType===3)return[t];if(t.hasChildNodes()){let e=[];for(let n of t.childNodes)ea(n).forEach(r=>e.push(r));return e}return[]}function er(t,{delay:e=0,duration:n=400,easing:r=ar}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:o=>`opacity: ${o*i}`}}function $u(t){return t()}function Cu(t){t.forEach($u)}const Pn=[],ao=[],Bn=[],lo=[],ta=Promise.resolve();let Lr=!1;function Ou(){Lr||(Lr=!0,ta.then(Nu))}function Au(){return Ou(),ta}function Tu(t){Bn.push(t)}const _r=new Set;let In=0;function Nu(){do{for(;In<Pn.length;){const t=Pn[In];In++,Du(t.$$)}for(Pn.length=0,In=0;ao.length;)ao.pop()();for(let t=0;t<Bn.length;t+=1){const e=Bn[t];_r.has(e)||(_r.add(e),e())}Bn.length=0}while(Pn.length);for(;lo.length;)lo.pop()();Lr=!1,_r.clear()}function Du(t){if(t.fragment!==null){t.update(),Cu(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Tu)}}const Lu={root:null,rootMargin:"0px",threshold:0,unobserveOnEnter:!1},lt=(t,e)=>new CustomEvent(t,{detail:e});function na(t,e={}){const{root:n,rootMargin:r,threshold:i,unobserveOnEnter:o}=Object.assign(Object.assign({},Lu),e);let s={x:void 0,y:void 0},a={vertical:void 0,horizontal:void 0};if(typeof IntersectionObserver<"u"&&t){const l=new IntersectionObserver((u,c)=>{u.forEach(f=>{s.y>f.boundingClientRect.y?a.vertical="up":a.vertical="down",s.x>f.boundingClientRect.x?a.horizontal="left":a.horizontal="right",s={y:f.boundingClientRect.y,x:f.boundingClientRect.x};const d={inView:f.isIntersecting,entry:f,scrollDirection:a,node:t,observer:c};t.dispatchEvent(lt("inview_change",d)),t.dispatchEvent(lt("change",d)),f.isIntersecting?(t.dispatchEvent(lt("inview_enter",d)),t.dispatchEvent(lt("enter",d)),o&&c.unobserve(t)):(t.dispatchEvent(lt("inview_leave",d)),t.dispatchEvent(lt("leave",d)))})},{root:n,rootMargin:r,threshold:i});return Au().then(()=>{t.dispatchEvent(lt("inview_init",{observer:l,node:t})),t.dispatchEvent(lt("init",{observer:l,node:t}))}),l.observe(t),{destroy(){l.unobserve(t)}}}}function qn(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Bu(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function ra(t){let e,n,r;t.length!==2?(e=qn,n=(a,l)=>qn(t(a),l),r=(a,l)=>t(a)-l):(e=t===qn||t===Bu?t:qu,n=t,r=t);function i(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<0?u=f+1:c=f}while(u<c)}return u}function o(a,l,u=0,c=a.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(a[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function s(a,l,u=0,c=a.length){const f=i(a,l,u,c-1);return f>u&&r(a[f-1],l)>-r(a[f],l)?f-1:f}return{left:i,center:s,right:o}}function qu(){return 0}function ju(t){return t===null?NaN:+t}const Hu=ra(qn),Vu=Hu.right;ra(ju).center;const Uu=Vu,zu=Math.sqrt(50),Wu=Math.sqrt(10),Gu=Math.sqrt(2);function tr(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),s=o>=zu?10:o>=Wu?5:o>=Gu?2:1;let a,l,u;return i<0?(u=Math.pow(10,-i)/s,a=Math.round(t*u),l=Math.round(e*u),a/u<t&&++a,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*s,a=Math.round(t/u),l=Math.round(e/u),a*u<t&&++a,l*u>e&&--l),l<a&&.5<=n&&n<2?tr(t,e,n*2):[a,l,u]}function Yu(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,s]=r?tr(e,t,n):tr(t,e,n);if(!(o>=i))return[];const a=o-i+1,l=new Array(a);if(r)if(s<0)for(let u=0;u<a;++u)l[u]=(o-u)/-s;else for(let u=0;u<a;++u)l[u]=(o-u)*s;else if(s<0)for(let u=0;u<a;++u)l[u]=(i+u)/-s;else for(let u=0;u<a;++u)l[u]=(i+u)*s;return l}function Br(t,e,n){return e=+e,t=+t,n=+n,tr(t,e,n)[2]}function Ju(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Br(e,t,n):Br(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Qu(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ai(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ia(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _n(){}var dn=.7,nr=1/dn,qt="\\s*([+-]?\\d+)\\s*",hn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ke="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Xu=/^#([0-9a-f]{3,8})$/,Ku=new RegExp(`^rgb\\(${qt},${qt},${qt}\\)$`),Zu=new RegExp(`^rgb\\(${Ke},${Ke},${Ke}\\)$`),ec=new RegExp(`^rgba\\(${qt},${qt},${qt},${hn}\\)$`),tc=new RegExp(`^rgba\\(${Ke},${Ke},${Ke},${hn}\\)$`),nc=new RegExp(`^hsl\\(${hn},${Ke},${Ke}\\)$`),rc=new RegExp(`^hsla\\(${hn},${Ke},${Ke},${hn}\\)$`),uo={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};ai(_n,gn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:co,formatHex:co,formatHex8:ic,formatHsl:oc,formatRgb:fo,toString:fo});function co(){return this.rgb().formatHex()}function ic(){return this.rgb().formatHex8()}function oc(){return oa(this).formatHsl()}function fo(){return this.rgb().formatRgb()}function gn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Xu.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?ho(e):n===3?new Ne(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?En(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?En(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ku.exec(t))?new Ne(e[1],e[2],e[3],1):(e=Zu.exec(t))?new Ne(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=ec.exec(t))?En(e[1],e[2],e[3],e[4]):(e=tc.exec(t))?En(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=nc.exec(t))?_o(e[1],e[2]/100,e[3]/100,1):(e=rc.exec(t))?_o(e[1],e[2]/100,e[3]/100,e[4]):uo.hasOwnProperty(t)?ho(uo[t]):t==="transparent"?new Ne(NaN,NaN,NaN,0):null}function ho(t){return new Ne(t>>16&255,t>>8&255,t&255,1)}function En(t,e,n,r){return r<=0&&(t=e=n=NaN),new Ne(t,e,n,r)}function sc(t){return t instanceof _n||(t=gn(t)),t?(t=t.rgb(),new Ne(t.r,t.g,t.b,t.opacity)):new Ne}function qr(t,e,n,r){return arguments.length===1?sc(t):new Ne(t,e,n,r??1)}function Ne(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}ai(Ne,qr,ia(_n,{brighter(t){return t=t==null?nr:Math.pow(nr,t),new Ne(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?dn:Math.pow(dn,t),new Ne(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Ne(wt(this.r),wt(this.g),wt(this.b),rr(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:go,formatHex:go,formatHex8:ac,formatRgb:po,toString:po}));function go(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}`}function ac(){return`#${mt(this.r)}${mt(this.g)}${mt(this.b)}${mt((isNaN(this.opacity)?1:this.opacity)*255)}`}function po(){const t=rr(this.opacity);return`${t===1?"rgb(":"rgba("}${wt(this.r)}, ${wt(this.g)}, ${wt(this.b)}${t===1?")":`, ${t})`}`}function rr(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wt(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mt(t){return t=wt(t),(t<16?"0":"")+t.toString(16)}function _o(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new He(t,e,n,r)}function oa(t){if(t instanceof He)return new He(t.h,t.s,t.l,t.opacity);if(t instanceof _n||(t=gn(t)),!t)return new He;if(t instanceof He)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),s=NaN,a=o-i,l=(o+i)/2;return a?(e===o?s=(n-r)/a+(n<r)*6:n===o?s=(r-e)/a+2:s=(e-n)/a+4,a/=l<.5?o+i:2-o-i,s*=60):a=l>0&&l<1?0:s,new He(s,a,l,t.opacity)}function lc(t,e,n,r){return arguments.length===1?oa(t):new He(t,e,n,r??1)}function He(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}ai(He,lc,ia(_n,{brighter(t){return t=t==null?nr:Math.pow(nr,t),new He(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?dn:Math.pow(dn,t),new He(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Ne(vr(t>=240?t-240:t+120,i,r),vr(t,i,r),vr(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new He(vo(this.h),Rn(this.s),Rn(this.l),rr(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=rr(this.opacity);return`${t===1?"hsl(":"hsla("}${vo(this.h)}, ${Rn(this.s)*100}%, ${Rn(this.l)*100}%${t===1?")":`, ${t})`}`}}));function vo(t){return t=(t||0)%360,t<0?t+360:t}function Rn(t){return Math.max(0,Math.min(1,t||0))}function vr(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const li=t=>()=>t;function uc(t,e){return function(n){return t+n*e}}function cc(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function fc(t){return(t=+t)==1?sa:function(e,n){return n-e?cc(e,n,t):li(isNaN(e)?n:e)}}function sa(t,e){var n=e-t;return n?uc(t,n):li(isNaN(t)?e:t)}const mo=function t(e){var n=fc(e);function r(i,o){var s=n((i=qr(i)).r,(o=qr(o)).r),a=n(i.g,o.g),l=n(i.b,o.b),u=sa(i.opacity,o.opacity);return function(c){return i.r=s(c),i.g=a(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function dc(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function hc(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function gc(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),s;for(s=0;s<r;++s)i[s]=ui(t[s],e[s]);for(;s<n;++s)o[s]=e[s];return function(a){for(s=0;s<r;++s)o[s]=i[s](a);return o}}function pc(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ir(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function _c(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ui(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var jr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,mr=new RegExp(jr.source,"g");function vc(t){return function(){return t}}function mc(t){return function(e){return t(e)+""}}function yc(t,e){var n=jr.lastIndex=mr.lastIndex=0,r,i,o,s=-1,a=[],l=[];for(t=t+"",e=e+"";(r=jr.exec(t))&&(i=mr.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),a[s]?a[s]+=o:a[++s]=o),(r=r[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:ir(r,i)})),n=mr.lastIndex;return n<e.length&&(o=e.slice(n),a[s]?a[s]+=o:a[++s]=o),a.length<2?l[0]?mc(l[0].x):vc(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)a[(f=l[c]).i]=f.x(u);return a.join("")})}function ui(t,e){var n=typeof e,r;return e==null||n==="boolean"?li(e):(n==="number"?ir:n==="string"?(r=gn(e))?(e=r,mo):yc:e instanceof gn?mo:e instanceof Date?pc:hc(e)?dc:Array.isArray(e)?gc:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?_c:ir)(t,e)}function bc(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function wc(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function or(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ht(t){return t=or(Math.abs(t)),t?t[1]:NaN}function kc(t,e){return function(n,r){for(var i=n.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>r&&(a=Math.max(1,r-l)),o.push(n.substring(i-=a,i+a)),!((l+=a+1)>r));)a=t[s=(s+1)%t.length];return o.reverse().join(e)}}function Sc(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var xc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function sr(t){if(!(e=xc.exec(t)))throw new Error("invalid format: "+t);var e;return new ci({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}sr.prototype=ci.prototype;function ci(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}ci.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Fc(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var aa;function Mc(t,e){var n=or(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(aa=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return o===s?r:o>s?r+new Array(o-s+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+or(t,Math.max(0,e+o-1))[0]}function yo(t,e){var n=or(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const bo={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:wc,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>yo(t*100,e),r:yo,s:Mc,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wo(t){return t}var ko=Array.prototype.map,So=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Pc(t){var e=t.grouping===void 0||t.thousands===void 0?wo:kc(ko.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?wo:Sc(ko.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",a=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=sr(f);var d=f.fill,g=f.align,p=f.sign,h=f.symbol,y=f.zero,v=f.width,C=f.comma,R=f.precision,M=f.trim,x=f.type;x==="n"?(C=!0,x="g"):bo[x]||(R===void 0&&(R=12),M=!0,x="g"),(y||d==="0"&&g==="=")&&(y=!0,d="0",g="=");var q=h==="$"?n:h==="#"&&/[boxX]/.test(x)?"0"+x.toLowerCase():"",H=h==="$"?r:/[%p]/.test(x)?s:"",E=bo[x],Y=/[defgprs%]/.test(x);R=R===void 0?6:/[gprs]/.test(x)?Math.max(1,Math.min(21,R)):Math.max(0,Math.min(20,R));function L(P){var U=q,z=H,W,oe,ve;if(x==="c")z=E(P)+z,P="";else{P=+P;var he=P<0||1/P<0;if(P=isNaN(P)?l:E(Math.abs(P),R),M&&(P=Fc(P)),he&&+P==0&&p!=="+"&&(he=!1),U=(he?p==="("?p:a:p==="-"||p==="("?"":p)+U,z=(x==="s"?So[8+aa/3]:"")+z+(he&&p==="("?")":""),Y){for(W=-1,oe=P.length;++W<oe;)if(ve=P.charCodeAt(W),48>ve||ve>57){z=(ve===46?i+P.slice(W+1):P.slice(W))+z,P=P.slice(0,W);break}}}C&&!y&&(P=e(P,1/0));var $=U.length+P.length+z.length,B=$<v?new Array(v-$+1).join(d):"";switch(C&&y&&(P=e(B+P,B.length?v-z.length:1/0),B=""),g){case"<":P=U+P+z+B;break;case"=":P=U+B+P+z;break;case"^":P=B.slice(0,$=B.length>>1)+U+P+z+B.slice($);break;default:P=B+U+P+z;break}return o(P)}return L.toString=function(){return f+""},L}function c(f,d){var g=u((f=sr(f),f.type="f",f)),p=Math.max(-8,Math.min(8,Math.floor(Ht(d)/3)))*3,h=Math.pow(10,-p),y=So[8+p/3];return function(v){return g(h*v)+y}}return{format:u,formatPrefix:c}}var $n,fi,la;Ic({thousands:",",grouping:[3],currency:["$",""]});function Ic(t){return $n=Pc(t),fi=$n.format,la=$n.formatPrefix,$n}function Ec(t){return Math.max(0,-Ht(Math.abs(t)))}function Rc(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Ht(e)/3)))*3-Ht(Math.abs(t)))}function $c(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ht(e)-Ht(t))+1}function Cc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Oc(t){return function(){return t}}function Ac(t){return+t}var xo=[0,1];function At(t){return t}function Hr(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Oc(isNaN(e)?NaN:.5)}function Tc(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function Nc(t,e,n){var r=t[0],i=t[1],o=e[0],s=e[1];return i<r?(r=Hr(i,r),o=n(s,o)):(r=Hr(r,i),o=n(o,s)),function(a){return o(r(a))}}function Dc(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)i[s]=Hr(t[s],t[s+1]),o[s]=n(e[s],e[s+1]);return function(a){var l=Uu(t,a,1,r)-1;return o[l](i[l](a))}}function Lc(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Bc(){var t=xo,e=xo,n=ui,r,i,o,s=At,a,l,u;function c(){var d=Math.min(t.length,e.length);return s!==At&&(s=Tc(t[0],t[d-1])),a=d>2?Dc:Nc,l=u=null,f}function f(d){return d==null||isNaN(d=+d)?o:(l||(l=a(t.map(r),e,n)))(r(s(d)))}return f.invert=function(d){return s(i((u||(u=a(e,t.map(r),ir)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,Ac),c()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),c()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=bc,c()},f.clamp=function(d){return arguments.length?(s=d?!0:At,c()):s!==At},f.interpolate=function(d){return arguments.length?(n=d,c()):n},f.unknown=function(d){return arguments.length?(o=d,f):o},function(d,g){return r=d,i=g,c()}}function qc(){return Bc()(At,At)}function jc(t,e,n,r){var i=Ju(t,e,n),o;switch(r=sr(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=Rc(i,s))&&(r.precision=o),la(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=$c(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ec(i))&&(r.precision=o-(r.type==="%")*2);break}}return fi(r)}function Hc(t){var e=t.domain;return t.ticks=function(n){var r=e();return Yu(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return jc(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,s=r[i],a=r[o],l,u,c=10;for(a<s&&(u=s,s=a,a=u,u=i,i=o,o=u);c-- >0;){if(u=Br(s,a,n),u===l)return r[i]=s,r[o]=a,e(r);if(u>0)s=Math.floor(s/u)*u,a=Math.ceil(a/u)*u;else if(u<0)s=Math.ceil(s*u)/u,a=Math.floor(a*u)/u;else break;l=u}return t},t}function ua(){var t=qc();return t.copy=function(){return Lc(t,ua())},Cc.apply(t,arguments),Hc(t)}function tn(t,e,n){this.k=t,this.x=e,this.y=n}tn.prototype={constructor:tn,scale:function(t){return t===1?this:new tn(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new tn(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};tn.prototype;function Fo(t,e,n){const r=t.slice();return r[11]=e[n],r}function Mo(t){let e,n=t[11][t[2]]+"",r,i,o,s,a,l,u=t[11][t[1]]+"",c,f;return{c(){e=w("div"),r=ue(n),i=A(),o=w("div"),s=w("div"),a=A(),l=w("div"),c=ue(u),f=A(),b(e,"class","bar-title"),b(s,"class","bar"),Je(s,"background-color","#007bad"),Je(s,"width",`${t[6](t[11][t[1]])}px`),b(l,"class","bar-value"),b(o,"class","bar-container")},m(d,g){N(d,e,g),m(e,r),N(d,i,g),N(d,o,g),m(o,s),m(o,a),m(o,l),m(l,c),m(o,f)},p(d,g){g&5&&n!==(n=d[11][d[2]]+"")&&_e(r,n),g&67&&Je(s,"width",`${d[6](d[11][d[1]])}px`),g&3&&u!==(u=d[11][d[1]]+"")&&_e(c,u)},d(d){d&&(T(e),T(i),T(o))}}}function Po(t){let e,n=X(t[0]),r=[];for(let i=0;i<n.length;i+=1)r[i]=Mo(Fo(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ut()},m(i,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,o);N(i,e,o)},p(i,o){if(o&71){n=X(i[0]);let s;for(s=0;s<n.length;s+=1){const a=Fo(i,n,s);r[s]?r[s].p(a,o):(r[s]=Mo(a),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&T(e),Be(r,i)}}}function Io(t){let e,n=t[4],r,i=Po(t);return{c(){e=w("div"),i.c(),b(e,"class","horizontal-bar-container"),Ue(()=>t[8].call(e))},m(o,s){N(o,e,s),i.m(e,null),r=Aa(e,t[8].bind(e))},p(o,s){s&16&&Ft(n,n=o[4])?(i.d(1),i=Po(o),i.c(),i.m(e,null)):i.p(o,s)},d(o){o&&T(e),i.d(o),r()}}}function Vc(t){let e=t[3],n,r=Io(t);return{c(){r.c(),n=Ut()},m(i,o){r.m(i,o),N(i,n,o)},p(i,[o]){o&8&&Ft(e,e=i[3])?(r.d(1),r=Io(i),r.c(),r.m(n.parentNode,n)):r.p(i,o)},i:Ie,o:Ie,d(i){i&&T(n),r.d(i)}}}function Uc(t,e,n){let r,i,{data:o}=e,{xVar:s}=e,{yVar:a}=e,{screenWidth:l}=e,{barInView:u}=e;fi(",.0f");const c={top:0,right:60,bottom:0,left:0};let f=1066/2;function d(){f=this.clientWidth,n(5,f)}return t.$$set=g=>{"data"in g&&n(0,o=g.data),"xVar"in g&&n(1,s=g.xVar),"yVar"in g&&n(2,a=g.yVar),"screenWidth"in g&&n(3,l=g.screenWidth),"barInView"in g&&n(4,u=g.barInView)},t.$$.update=()=>{t.$$.dirty&32&&n(7,r=f-c.left-c.right),t.$$.dirty&131&&n(6,i=ua().domain([0,Qu(o,g=>g[s])]).range([0,r]))},[o,s,a,l,u,f,i,r,d]}class zc extends Wt{constructor(e){super(),zt(this,e,Uc,Vc,Ft,{data:0,xVar:1,yVar:2,screenWidth:3,barInView:4})}}function Eo(t,e,n){const r=t.slice();return r[17]=e[n],r}function Ro(t,e,n){const r=t.slice();return r[20]=e[n],r}function $o(t,e,n){const r=t.slice();return r[23]=e[n],r}function Co(t,e,n){const r=t.slice();return r[26]=e[n],r}function Oo(t,e,n){const r=t.slice();return r[29]=e[n],r}function Ao(t,e,n){const r=t.slice();return r[32]=e[n],r}function To(t,e,n){const r=t.slice();return r[32]=e[n],r}function No(t,e,n){const r=t.slice();return r[29]=e[n],r}function Do(t,e,n){const r=t.slice();return r[29]=e[n],r}function Lo(t,e,n){const r=t.slice();return r[39]=e[n],r}function Bo(t,e,n){const r=t.slice();return r[39]=e[n],r}function qo(t){let e,n=t[39]+"";return{c(){e=w("p")},m(r,i){N(r,e,i),e.innerHTML=n},p(r,i){i[0]&1&&n!==(n=r[39]+"")&&(e.innerHTML=n)},d(r){r&&T(e)}}}function jo(t){let e,n,r,i,o,s;return{c(){e=w("div"),n=w("div"),r=w("img"),Ye(r.src,i=`${t[1]}images/car.webp?v1`)||b(r,"src",i),b(r,"alt","running car"),b(n,"class","container-div"),b(e,"class","car-animation-container")},m(a,l){N(a,e,l),m(e,n),m(n,r),s=!0},p(a,l){(!s||l[0]&2&&!Ye(r.src,i=`${a[1]}images/car.webp?v1`))&&b(r,"src",i)},i(a){s||(a&&Ue(()=>{s&&(o||(o=wi(e,er,{},!0)),o.run(1))}),s=!0)},o(a){a&&(o||(o=wi(e,er,{},!1)),o.run(0)),s=!1},d(a){a&&T(e),a&&o&&o.end()}}}function Ho(t){let e,n,r=t[29].priceT+"",i,o,s,a=t[29].price+"",l,u,c,f,d;return{c(){e=w("div"),n=w("p"),i=ue(r),o=A(),s=w("p"),l=ue(a),u=A(),b(e,"class","background-cost"),bi(e,"isRetail",t[29].priceT==="Retail price")},m(g,p){N(g,e,p),m(e,n),m(n,i),m(e,o),m(e,s),m(s,l),m(e,u),d=!0},p(g,p){(!d||p[0]&1)&&r!==(r=g[29].priceT+"")&&_e(i,r),(!d||p[0]&1)&&a!==(a=g[29].price+"")&&_e(l,a),(!d||p[0]&1)&&bi(e,"isRetail",g[29].priceT==="Retail price")},i(g){d||(g&&Ue(()=>{d&&(f&&f.end(1),c=Ua(e,Ru,{speed:25}),c.start())}),d=!0)},o(g){c&&c.invalidate(),g&&(f=Ms(e,er,{})),d=!1},d(g){g&&T(e),g&&f&&f.end()}}}function Vo(t){let e,n=t[4]+1>=t[29].id&&t[29].price&&t[29].price!==""&&Ho(t);return{c(){n&&n.c(),e=Ut()},m(r,i){n&&n.m(r,i),N(r,e,i)},p(r,i){r[4]+1>=r[29].id&&r[29].price&&r[29].price!==""?n?(n.p(r,i),i[0]&17&&te(n,1)):(n=Ho(r),n.c(),te(n,1),n.m(e.parentNode,e)):n&&(un(),ke(n,1,1,()=>{n=null}),cn())},d(r){r&&T(e),n&&n.d(r)}}}function Wc(t){let e,n,r,i,o,s,a,l=t[0].caseStudy.title+"",u,c,f,d,g,p,h=X(t[0].scrollytelling),y=[];for(let v=0;v<h.length;v+=1)y[v]=Vo(No(t,h,v));return{c(){e=w("div"),n=w("div"),r=w("div"),i=A(),o=w("div"),s=w("div"),a=w("div"),u=ue(l),f=A(),d=w("div"),g=A();for(let v=0;v<y.length;v+=1)y[v].c();b(r,"class","empty-div"),b(a,"class","title-case-study"),b(d,"class","divider-case-study"),b(s,"class","background-right"),b(o,"class","right-div"),Je(o,"background",`url(${t[1]}images/receipt.webp) no-repeat`),Je(o,"background-size","100% 100%"),b(n,"class","background-right-container"),b(e,"slot","background")},m(v,C){N(v,e,C),m(e,n),m(n,r),m(n,i),m(n,o),m(o,s),m(s,a),m(a,u),m(s,f),m(s,d),m(s,g);for(let R=0;R<y.length;R+=1)y[R]&&y[R].m(s,null);p=!0},p(v,C){if((!p||C[0]&1)&&l!==(l=v[0].caseStudy.title+"")&&_e(u,l),C[0]&17){h=X(v[0].scrollytelling);let R;for(R=0;R<h.length;R+=1){const M=No(v,h,R);y[R]?y[R].p(M,C):(y[R]=Vo(M),y[R].c(),y[R].m(s,null))}for(;R<y.length;R+=1)y[R].d(1);y.length=h.length}C[0]&2&&Je(o,"background",`url(${v[1]}images/receipt.webp) no-repeat`)},i(v){p||(c&&c.end(1),p=!0)},o(v){v&&(c=Ms(a,er,{})),p=!1},d(v){v&&T(e),v&&c&&c.end(),Be(y,v)}}}function Uo(t){let e,n=t[29].title+"",r;return{c(){e=w("p"),r=ue(n),b(e,"class","story-title")},m(i,o){N(i,e,o),m(e,r)},p(i,o){o[0]&1&&n!==(n=i[29].title+"")&&_e(r,n)},d(i){i&&T(e)}}}function zo(t){let e,n=X(t[29].desc),r=[];for(let i=0;i<n.length;i+=1)r[i]=Wo(Lo(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ut()},m(i,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,o);N(i,e,o)},p(i,o){if(o[0]&1){n=X(i[29].desc);let s;for(s=0;s<n.length;s+=1){const a=Lo(i,n,s);r[s]?r[s].p(a,o):(r[s]=Wo(a),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&T(e),Be(r,i)}}}function Wo(t){let e,n=t[39]+"";return{c(){e=w("p"),b(e,"class","desc")},m(r,i){N(r,e,i),e.innerHTML=n},p(r,i){i[0]&1&&n!==(n=r[39]+"")&&(e.innerHTML=n)},d(r){r&&T(e)}}}function Go(t){let e,n;return{c(){e=w("img"),Ye(e.src,n=`${t[1]}images/${t[29].img}`)||b(e,"src",n),b(e,"alt","table")},m(r,i){N(r,e,i)},p(r,i){i[0]&3&&!Ye(e.src,n=`${r[1]}images/${r[29].img}`)&&b(e,"src",n)},d(r){r&&T(e)}}}function Yo(t){let e,n,r=t[29].notes+"";return{c(){e=w("div"),n=w("p"),b(e,"class","notes")},m(i,o){N(i,e,o),m(e,n),n.innerHTML=r},p(i,o){o[0]&1&&r!==(r=i[29].notes+"")&&(n.innerHTML=r)},d(i){i&&T(e)}}}function Jo(t){let e,n,r,i,o,s,a,l=t[29].title&&Uo(t),u=t[29].desc.length>0&&zo(t),c=t[29].img&&t[29].img!==""&&Go(t),f=t[29].notes&&t[29].notes!==""&&Yo(t);return{c(){e=w("section"),n=w("div"),l&&l.c(),r=A(),u&&u.c(),i=A(),c&&c.c(),o=A(),f&&f.c(),s=A(),b(n,"class","story-desc"),b(e,"class",a=`story-section story-${t[29].id}`)},m(d,g){N(d,e,g),m(e,n),l&&l.m(n,null),m(n,r),u&&u.m(n,null),m(n,i),c&&c.m(n,null),m(n,o),f&&f.m(n,null),m(e,s)},p(d,g){d[29].title?l?l.p(d,g):(l=Uo(d),l.c(),l.m(n,r)):l&&(l.d(1),l=null),d[29].desc.length>0?u?u.p(d,g):(u=zo(d),u.c(),u.m(n,i)):u&&(u.d(1),u=null),d[29].img&&d[29].img!==""?c?c.p(d,g):(c=Go(d),c.c(),c.m(n,o)):c&&(c.d(1),c=null),d[29].notes&&d[29].notes!==""?f?f.p(d,g):(f=Yo(d),f.c(),f.m(n,null)):f&&(f.d(1),f=null),g[0]&1&&a!==(a=`story-section story-${d[29].id}`)&&b(e,"class",a)},d(d){d&&T(e),l&&l.d(),u&&u.d(),c&&c.d(),f&&f.d()}}}function Gc(t){let e,n=X(t[0].scrollytelling),r=[];for(let i=0;i<n.length;i+=1)r[i]=Jo(Do(t,n,i));return{c(){e=w("div");for(let i=0;i<r.length;i+=1)r[i].c();b(e,"slot","foreground"),b(e,"class","scrollytelling-container")},m(i,o){N(i,e,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(i,o){if(o[0]&3){n=X(i[0].scrollytelling);let s;for(s=0;s<n.length;s+=1){const a=Do(i,n,s);r[s]?r[s].p(a,o):(r[s]=Jo(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&T(e),Be(r,i)}}}function Qo(t){let e,n=t[23].title+"",r;return{c(){e=w("p"),r=ue(n),b(e,"class","static-title")},m(i,o){N(i,e,o),m(e,r)},p(i,o){o[0]&1&&n!==(n=i[23].title+"")&&_e(r,n)},d(i){i&&T(e)}}}function Xo(t){let e,n,r=t[23].overviewTable.title+"",i,o,s,a,l,u,c,f=X(t[23].overviewTable.header),d=[];for(let h=0;h<f.length;h+=1)d[h]=Ko(To(t,f,h));let g=X(t[23].overviewTable.tableData),p=[];for(let h=0;h<g.length;h+=1)p[h]=ts(Oo(t,g,h));return{c(){e=w("div"),n=w("p"),i=ue(r),o=A(),s=w("table"),a=w("thead"),l=w("tr");for(let h=0;h<d.length;h+=1)d[h].c();u=A(),c=w("tbody");for(let h=0;h<p.length;h+=1)p[h].c();b(e,"class","table-title")},m(h,y){N(h,e,y),m(e,n),m(n,i),N(h,o,y),N(h,s,y),m(s,a),m(a,l);for(let v=0;v<d.length;v+=1)d[v]&&d[v].m(l,null);m(s,u),m(s,c);for(let v=0;v<p.length;v+=1)p[v]&&p[v].m(c,null)},p(h,y){if(y[0]&1&&r!==(r=h[23].overviewTable.title+"")&&_e(i,r),y[0]&1){f=X(h[23].overviewTable.header);let v;for(v=0;v<f.length;v+=1){const C=To(h,f,v);d[v]?d[v].p(C,y):(d[v]=Ko(C),d[v].c(),d[v].m(l,null))}for(;v<d.length;v+=1)d[v].d(1);d.length=f.length}if(y[0]&1){g=X(h[23].overviewTable.tableData);let v;for(v=0;v<g.length;v+=1){const C=Oo(h,g,v);p[v]?p[v].p(C,y):(p[v]=ts(C),p[v].c(),p[v].m(c,null))}for(;v<p.length;v+=1)p[v].d(1);p.length=g.length}},d(h){h&&(T(e),T(o),T(s)),Be(d,h),Be(p,h)}}}function Ko(t){let e,n=t[32].desc+"",r,i;return{c(){e=w("td"),r=ue(n),i=A()},m(o,s){N(o,e,s),m(e,r),m(e,i)},p(o,s){s[0]&1&&n!==(n=o[32].desc+"")&&_e(r,n)},d(o){o&&T(e)}}}function Zo(t){let e,n=(t[32].descM?t[32].descM:t[32].desc)+"";return{c(){e=w("div"),b(e,"class","mobile-only")},m(r,i){N(r,e,i),e.innerHTML=n},p(r,i){i[0]&1&&n!==(n=(r[32].descM?r[32].descM:r[32].desc)+"")&&(e.innerHTML=n)},d(r){r&&T(e)}}}function es(t){let e,n,r,i=t[29][t[32].csvT]+"",o,s=t[32].id!=="0"&&Zo(t);return{c(){e=w("td"),s&&s.c(),n=A(),r=w("div"),o=ue(i)},m(a,l){N(a,e,l),s&&s.m(e,null),m(e,n),m(e,r),m(r,o)},p(a,l){a[32].id!=="0"?s?s.p(a,l):(s=Zo(a),s.c(),s.m(e,n)):s&&(s.d(1),s=null),l[0]&1&&i!==(i=a[29][a[32].csvT]+"")&&_e(o,i)},d(a){a&&T(e),s&&s.d()}}}function ts(t){let e,n,r=X(t[23].overviewTable.header),i=[];for(let o=0;o<r.length;o+=1)i[o]=es(Ao(t,r,o));return{c(){e=w("tr");for(let o=0;o<i.length;o+=1)i[o].c();n=A()},m(o,s){N(o,e,s);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);m(e,n)},p(o,s){if(s[0]&1){r=X(o[23].overviewTable.header);let a;for(a=0;a<r.length;a+=1){const l=Ao(o,r,a);i[a]?i[a].p(l,s):(i[a]=es(l),i[a].c(),i[a].m(e,n))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},d(o){o&&T(e),Be(i,o)}}}function ns(t){let e,n=t[23].notes+"";return{c(){e=w("p"),b(e,"class","static-notes")},m(r,i){N(r,e,i),e.innerHTML=n},p(r,i){i[0]&1&&n!==(n=r[23].notes+"")&&(e.innerHTML=n)},d(r){r&&T(e)}}}function rs(t){let e,n=X(t[23].topDesc),r=[];for(let i=0;i<n.length;i+=1)r[i]=is(Co(t,n,i));return{c(){e=w("div");for(let i=0;i<r.length;i+=1)r[i].c();b(e,"class","paragraph-container")},m(i,o){N(i,e,o);for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(e,null)},p(i,o){if(o[0]&1){n=X(i[23].topDesc);let s;for(s=0;s<n.length;s+=1){const a=Co(i,n,s);r[s]?r[s].p(a,o):(r[s]=is(a),r[s].c(),r[s].m(e,null))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&T(e),Be(r,i)}}}function is(t){let e,n=t[26]+"",r;return{c(){e=w("p"),r=ue(n)},m(i,o){N(i,e,o),m(e,r)},p(i,o){o[0]&1&&n!==(n=i[26]+"")&&_e(r,n)},d(i){i&&T(e)}}}function os(t){let e,n,r,i,o;return n=new zc({props:{data:t[23].overviewChart.data,xVar:"value",yVar:"name",screenWidth:t[2],barInView:t[8]}}),{c(){e=w("div"),rn(n.$$.fragment),b(e,"class","bar-chart-container")},m(s,a){N(s,e,a),Dt(n,e,null),r=!0,i||(o=[bs(na.call(null,e)),it(e,"inview_enter",t[13]),it(e,"inview_leave",t[14])],i=!0)},p(s,a){const l={};a[0]&1&&(l.data=s[23].overviewChart.data),a[0]&4&&(l.screenWidth=s[2]),a[0]&256&&(l.barInView=s[8]),n.$set(l)},i(s){r||(te(n.$$.fragment,s),r=!0)},o(s){ke(n.$$.fragment,s),r=!1},d(s){s&&T(e),Lt(n),i=!1,ot(o)}}}function ss(t){let e,n,r,i,o,s,a,l,u,c=t[23].title&&Qo(t),f=t[23].overviewTable&&Xo(t),d=t[23].notes&&ns(t),g=t[23].topDesc.length>0&&rs(t),p=t[23].overviewChart&&os(t);return{c(){e=w("div"),c&&c.c(),n=A(),f&&f.c(),r=A(),d&&d.c(),i=A(),o=w("div"),g&&g.c(),s=A(),p&&p.c(),a=A(),b(o,"class","static-desc-container"),b(e,"class",l=`static-${t[23].id}-section static-section`)},m(h,y){N(h,e,y),c&&c.m(e,null),m(e,n),f&&f.m(e,null),m(e,r),d&&d.m(e,null),m(e,i),m(e,o),g&&g.m(o,null),m(o,s),p&&p.m(o,null),m(e,a),u=!0},p(h,y){h[23].title?c?c.p(h,y):(c=Qo(h),c.c(),c.m(e,n)):c&&(c.d(1),c=null),h[23].overviewTable?f?f.p(h,y):(f=Xo(h),f.c(),f.m(e,r)):f&&(f.d(1),f=null),h[23].notes?d?d.p(h,y):(d=ns(h),d.c(),d.m(e,i)):d&&(d.d(1),d=null),h[23].topDesc.length>0?g?g.p(h,y):(g=rs(h),g.c(),g.m(o,s)):g&&(g.d(1),g=null),h[23].overviewChart?p?(p.p(h,y),y[0]&1&&te(p,1)):(p=os(h),p.c(),te(p,1),p.m(o,null)):p&&(un(),ke(p,1,1,()=>{p=null}),cn()),(!u||y[0]&1&&l!==(l=`static-${h[23].id}-section static-section`))&&b(e,"class",l)},i(h){u||(te(p),u=!0)},o(h){ke(p),u=!1},d(h){h&&T(e),c&&c.d(),f&&f.d(),d&&d.d(),g&&g.d(),p&&p.d()}}}function as(t){let e,n,r=t[0].endSection.methodology+"",i,o,s=t[0].endSection.methodologyText+"";return{c(){e=w("div"),n=w("p"),i=A(),o=w("p"),b(n,"class","methodology-title"),b(o,"class","methodology-text"),b(e,"class","methodology-container")},m(a,l){N(a,e,l),m(e,n),n.innerHTML=r,m(e,i),m(e,o),o.innerHTML=s},p(a,l){l[0]&1&&r!==(r=a[0].endSection.methodology+"")&&(n.innerHTML=r),l[0]&1&&s!==(s=a[0].endSection.methodologyText+"")&&(o.innerHTML=s)},d(a){a&&T(e)}}}function ls(t){let e,n,r=t[0].endSection.readMore+"",i,o,s=t[0].endSection.readMoreUrl.length>0&&us(t),a=t[0].endSection.pdfLink!==""&&fs(t);return{c(){e=w("div"),n=w("p"),i=A(),s&&s.c(),o=A(),a&&a.c(),b(n,"class","readMore-title"),b(e,"class","readMore-container")},m(l,u){N(l,e,u),m(e,n),n.innerHTML=r,m(e,i),s&&s.m(e,null),m(e,o),a&&a.m(e,null)},p(l,u){u[0]&1&&r!==(r=l[0].endSection.readMore+"")&&(n.innerHTML=r),l[0].endSection.readMoreUrl.length>0?s?s.p(l,u):(s=us(l),s.c(),s.m(e,o)):s&&(s.d(1),s=null),l[0].endSection.pdfLink!==""?a?a.p(l,u):(a=fs(l),a.c(),a.m(e,null)):a&&(a.d(1),a=null)},d(l){l&&T(e),s&&s.d(),a&&a.d()}}}function us(t){let e,n=X(t[0].endSection.readMoreUrl),r=[];for(let i=0;i<n.length;i+=1)r[i]=cs(Ro(t,n,i));return{c(){for(let i=0;i<r.length;i+=1)r[i].c();e=Ut()},m(i,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(i,o);N(i,e,o)},p(i,o){if(o[0]&1){n=X(i[0].endSection.readMoreUrl);let s;for(s=0;s<n.length;s+=1){const a=Ro(i,n,s);r[s]?r[s].p(a,o):(r[s]=cs(a),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(i){i&&T(e),Be(r,i)}}}function cs(t){let e,n,r=t[20].text+"",i,o,s;return{c(){e=w("div"),n=w("a"),i=ue(r),s=A(),b(n,"class","readMore-links"),b(n,"href",o=t[20].url),b(n,"target","_blank"),b(e,"class","links-container")},m(a,l){N(a,e,l),m(e,n),m(n,i),m(e,s)},p(a,l){l[0]&1&&r!==(r=a[20].text+"")&&_e(i,r),l[0]&1&&o!==(o=a[20].url)&&b(n,"href",o)},d(a){a&&T(e)}}}function fs(t){let e,n,r,i,o,s=t[0].endSection.pdfText+"",a,l;return{c(){e=w("div"),n=w("img"),i=A(),o=w("a"),a=ue(s),Ye(n.src,r=`${t[1]}images/pdf_icon.webp`)||b(n,"src",r),b(n,"alt","pdf"),b(o,"class","pdf-link"),b(o,"href",l=t[0].endSection.pdfLink),b(o,"target","_blank"),b(e,"class","pdf-link-container")},m(u,c){N(u,e,c),m(e,n),m(e,i),m(e,o),m(o,a)},p(u,c){c[0]&2&&!Ye(n.src,r=`${u[1]}images/pdf_icon.webp`)&&b(n,"src",r),c[0]&1&&s!==(s=u[0].endSection.pdfText+"")&&_e(a,s),c[0]&1&&l!==(l=u[0].endSection.pdfLink)&&b(o,"href",l)},d(u){u&&T(e)}}}function ds(t){let e,n=t[17].text+"";return{c(){e=w("p"),b(e,"class","source-text")},m(r,i){N(r,e,i),e.innerHTML=n},p(r,i){i[0]&1&&n!==(n=r[17].text+"")&&(e.innerHTML=n)},d(r){r&&T(e)}}}function Yc(t){let e,n,r,i,o,s,a,l=t[0].firstScreen.title1+"",u,c,f,d=t[0].firstScreen.title+"",g,p,h,y,v=t[0].firstScreen.by+"",C,R,M,x,q,H,E,Y,L,P,U,z,W,oe=t[0].firstScreen.scrollText+"",ve,he,$,B,xe,Ee,K,se,Z,me,Re,Fe,st,Gt,$e,vn,ze,Ce,Mt,Yt;n=new tl({});let Ze=X(t[0].firstScreen.desc),ce=[];for(let k=0;k<Ze.length;k+=1)ce[k]=qo(Bo(t,Ze,k));let ge=t[7]===!1&&jo(t);function ba(k){t[9](k)}function wa(k){t[10](k)}function ka(k){t[11](k)}function Sa(k){t[12](k)}let Jt={top:Jc,threshold:Qc,bottom:Xc,$$slots:{foreground:[Gc],background:[Wc]},$$scope:{ctx:t}};t[3]!==void 0&&(Jt.count=t[3]),t[4]!==void 0&&(Jt.index=t[4]),t[5]!==void 0&&(Jt.offset=t[5]),t[6]!==void 0&&(Jt.progress=t[6]),B=new Xa({props:Jt}),rt.push(()=>wn(B,"count",ba)),rt.push(()=>wn(B,"index",wa)),rt.push(()=>wn(B,"offset",ka)),rt.push(()=>wn(B,"progress",Sa));let ht=X(t[0].staticSection),ee=[];for(let k=0;k<ht.length;k+=1)ee[k]=ss($o(t,ht,k));const xa=k=>ke(ee[k],1,1,()=>{ee[k]=null});let Oe=t[0].endSection.methodologyText&&t[0].endSection.methodologyText!==""&&as(t),Ae=(t[0].endSection.readMoreUrl&&t[0].endSection.readMoreUrl.length>0||t[0].endSection.pdfLink&&t[0].endSection.pdfLink!=="")&&ls(t),Pt=X(t[0].endSection.source),Me=[];for(let k=0;k<Pt.length;k+=1)Me[k]=ds(Eo(t,Pt,k));return ze=new il({props:{label:t[0]}}),{c(){e=w("div"),rn(n.$$.fragment),r=A(),i=w("div"),o=w("div"),s=w("h1"),a=w("span"),u=ue(l),c=A(),f=w("span"),g=ue(d),p=A(),h=w("div"),y=w("p"),C=ue(v),R=A(),M=w("div"),x=w("img"),H=A(),E=w("div");for(let k=0;k<ce.length;k+=1)ce[k].c();Y=A(),L=w("div"),P=w("img"),z=A(),W=w("p"),ve=ue(oe),he=A(),ge&&ge.c(),$=A(),rn(B.$$.fragment),Z=A(),me=w("div");for(let k=0;k<ee.length;k+=1)ee[k].c();Re=A(),Fe=w("div"),Oe&&Oe.c(),st=A(),Ae&&Ae.c(),Gt=A(),$e=w("div");for(let k=0;k<Me.length;k+=1)Me[k].c();vn=A(),rn(ze.$$.fragment),b(s,"class","header-title"),b(h,"class","producedby"),Ye(x.src,q=`${t[1]}images/main_desktop.webp?v2`)||b(x,"src",q),b(x,"alt","main"),b(M,"class","header-image-container"),b(o,"class","top-header-screen"),b(E,"class","header-desc"),b(P,"class","scroll-icon"),Ye(P.src,U=`${t[1]}images/explore.gif?v1`)||b(P,"src",U),b(P,"alt","explore"),b(W,"class","scroll-text"),b(L,"class","explore-container"),b(i,"class","first-screen-container"),b(me,"class","static-section-container"),b($e,"class","source-container"),b(Fe,"class","end-section-container"),b(e,"class","main-page-container"),Je(e,"--themeColor",t[0].scrollyBoxTheme.themeBgColor),Je(e,"--themetextColor",t[0].scrollyBoxTheme.themeTextCollor)},m(k,j){N(k,e,j),Dt(n,e,null),m(e,r),m(e,i),m(i,o),m(o,s),m(s,a),m(a,u),m(s,c),m(s,f),m(f,g),m(o,p),m(o,h),m(h,y),m(y,C),m(o,R),m(o,M),m(M,x),m(i,H),m(i,E);for(let ne=0;ne<ce.length;ne+=1)ce[ne]&&ce[ne].m(E,null);m(i,Y),m(i,L),m(L,P),m(L,z),m(L,W),m(W,ve),m(e,he),ge&&ge.m(e,null),m(e,$),Dt(B,e,null),m(e,Z),m(e,me);for(let ne=0;ne<ee.length;ne+=1)ee[ne]&&ee[ne].m(me,null);m(e,Re),m(e,Fe),Oe&&Oe.m(Fe,null),m(Fe,st),Ae&&Ae.m(Fe,null),m(Fe,Gt),m(Fe,$e);for(let ne=0;ne<Me.length;ne+=1)Me[ne]&&Me[ne].m($e,null);m(e,vn),Dt(ze,e,null),Ce=!0,Mt||(Yt=[bs(na.call(null,me)),it(me,"inview_enter",t[15]),it(me,"inview_leave",t[16])],Mt=!0)},p(k,j){if((!Ce||j[0]&1)&&l!==(l=k[0].firstScreen.title1+"")&&_e(u,l),(!Ce||j[0]&1)&&d!==(d=k[0].firstScreen.title+"")&&_e(g,d),(!Ce||j[0]&1)&&v!==(v=k[0].firstScreen.by+"")&&_e(C,v),(!Ce||j[0]&2&&!Ye(x.src,q=`${k[1]}images/main_desktop.webp?v2`))&&b(x,"src",q),j[0]&1){Ze=X(k[0].firstScreen.desc);let D;for(D=0;D<Ze.length;D+=1){const at=Bo(k,Ze,D);ce[D]?ce[D].p(at,j):(ce[D]=qo(at),ce[D].c(),ce[D].m(E,null))}for(;D<ce.length;D+=1)ce[D].d(1);ce.length=Ze.length}(!Ce||j[0]&2&&!Ye(P.src,U=`${k[1]}images/explore.gif?v1`))&&b(P,"src",U),(!Ce||j[0]&1)&&oe!==(oe=k[0].firstScreen.scrollText+"")&&_e(ve,oe),k[7]===!1?ge?(ge.p(k,j),j[0]&128&&te(ge,1)):(ge=jo(k),ge.c(),te(ge,1),ge.m(e,$)):ge&&(un(),ke(ge,1,1,()=>{ge=null}),cn());const ne={};if(j[0]&19|j[1]&32768&&(ne.$$scope={dirty:j,ctx:k}),!xe&&j[0]&8&&(xe=!0,ne.count=k[3],bn(()=>xe=!1)),!Ee&&j[0]&16&&(Ee=!0,ne.index=k[4],bn(()=>Ee=!1)),!K&&j[0]&32&&(K=!0,ne.offset=k[5],bn(()=>K=!1)),!se&&j[0]&64&&(se=!0,ne.progress=k[6],bn(()=>se=!1)),B.$set(ne),j[0]&261){ht=X(k[0].staticSection);let D;for(D=0;D<ht.length;D+=1){const at=$o(k,ht,D);ee[D]?(ee[D].p(at,j),te(ee[D],1)):(ee[D]=ss(at),ee[D].c(),te(ee[D],1),ee[D].m(me,null))}for(un(),D=ht.length;D<ee.length;D+=1)xa(D);cn()}if(k[0].endSection.methodologyText&&k[0].endSection.methodologyText!==""?Oe?Oe.p(k,j):(Oe=as(k),Oe.c(),Oe.m(Fe,st)):Oe&&(Oe.d(1),Oe=null),k[0].endSection.readMoreUrl&&k[0].endSection.readMoreUrl.length>0||k[0].endSection.pdfLink&&k[0].endSection.pdfLink!==""?Ae?Ae.p(k,j):(Ae=ls(k),Ae.c(),Ae.m(Fe,Gt)):Ae&&(Ae.d(1),Ae=null),j[0]&1){Pt=X(k[0].endSection.source);let D;for(D=0;D<Pt.length;D+=1){const at=Eo(k,Pt,D);Me[D]?Me[D].p(at,j):(Me[D]=ds(at),Me[D].c(),Me[D].m($e,null))}for(;D<Me.length;D+=1)Me[D].d(1);Me.length=Pt.length}const gi={};j[0]&1&&(gi.label=k[0]),ze.$set(gi),j[0]&1&&Je(e,"--themeColor",k[0].scrollyBoxTheme.themeBgColor),j[0]&1&&Je(e,"--themetextColor",k[0].scrollyBoxTheme.themeTextCollor)},i(k){if(!Ce){te(n.$$.fragment,k),te(ge),te(B.$$.fragment,k);for(let j=0;j<ht.length;j+=1)te(ee[j]);te(ze.$$.fragment,k),Ce=!0}},o(k){ke(n.$$.fragment,k),ke(ge),ke(B.$$.fragment,k),ee=ee.filter(Boolean);for(let j=0;j<ee.length;j+=1)ke(ee[j]);ke(ze.$$.fragment,k),Ce=!1},d(k){k&&T(e),Lt(n),Be(ce,k),ge&&ge.d(),Lt(B),Be(ee,k),Oe&&Oe.d(),Ae&&Ae.d(),Be(Me,k),Lt(ze),Mt=!1,ot(Yt)}}}let Jc=.1,Qc=1,Xc=.9;function Kc(t,e,n){so.init("phc_YEgCBDsU3KK8IyDLOMF8JHpvn65KkHBRgSNqeMZKGOz",{api_host:"https://app.posthog.com"});let r,i,o,s,{dataObj:a}=e,{path:l}=e,{screenSize:u}=e,c=!1,f=!1;lr(()=>{i&&so.capture("scroll",{index:i})});function d(M){r=M,n(3,r)}function g(M){i=M,n(4,i)}function p(M){o=M,n(5,o)}function h(M){s=M,n(6,s)}const y=M=>{const{inView:x}=M.detail;n(8,f=x)},v=M=>{const{inView:x}=M.detail;n(8,f=x)},C=M=>{const{inView:x}=M.detail;console.log("here"),n(7,c=x)},R=M=>{const{inView:x}=M.detail;n(7,c=x)};return t.$$set=M=>{"dataObj"in M&&n(0,a=M.dataObj),"path"in M&&n(1,l=M.path),"screenSize"in M&&n(2,u=M.screenSize)},[a,l,u,r,i,o,s,c,f,d,g,p,h,y,v,C,R]}class Zc extends Wt{constructor(e){super(),zt(this,e,Kc,Yc,Ia,{dataObj:0,path:1,screenSize:2},null,[-1,-1])}}const ca="%[a-f0-9]{2}",hs=new RegExp("("+ca+")|([^%]+?)","gi"),gs=new RegExp("("+ca+")+","gi");function Vr(t,e){try{return[decodeURIComponent(t.join(""))]}catch{}if(t.length===1)return t;e=e||1;const n=t.slice(0,e),r=t.slice(e);return Array.prototype.concat.call([],Vr(n),Vr(r))}function ef(t){try{return decodeURIComponent(t)}catch{let e=t.match(hs)||[];for(let n=1;n<e.length;n++)t=Vr(e,n).join(""),e=t.match(hs)||[];return t}}function tf(t){const e={"%FE%FF":"","%FF%FE":""};let n=gs.exec(t);for(;n;){try{e[n[0]]=decodeURIComponent(n[0])}catch{const i=ef(n[0]);i!==n[0]&&(e[n[0]]=i)}n=gs.exec(t)}e["%C2"]="";const r=Object.keys(e);for(const i of r)t=t.replace(new RegExp(i,"g"),e[i]);return t}function nf(t){if(typeof t!="string")throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof t+"`");try{return decodeURIComponent(t)}catch{return tf(t)}}function fa(t,e){if(!(typeof t=="string"&&typeof e=="string"))throw new TypeError("Expected the arguments to be of type `string`");if(t===""||e==="")return[];const n=t.indexOf(e);return n===-1?[]:[t.slice(0,n),t.slice(n+e.length)]}function rf(t,e){const n={};if(Array.isArray(e))for(const r of e){const i=Object.getOwnPropertyDescriptor(t,r);i!=null&&i.enumerable&&Object.defineProperty(n,r,i)}else for(const r of Reflect.ownKeys(t)){const i=Object.getOwnPropertyDescriptor(t,r);if(i.enumerable){const o=t[r];e(r,o,t)&&Object.defineProperty(n,r,i)}}return n}const of=t=>t==null,sf=t=>encodeURIComponent(t).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`),Ur=Symbol("encodeFragmentIdentifier");function af(t){switch(t.arrayFormat){case"index":return e=>(n,r)=>{const i=n.length;return r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[ae(e,t),"[",i,"]"].join("")]:[...n,[ae(e,t),"[",ae(i,t),"]=",ae(r,t)].join("")]};case"bracket":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[ae(e,t),"[]"].join("")]:[...n,[ae(e,t),"[]=",ae(r,t)].join("")];case"colon-list-separator":return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,[ae(e,t),":list="].join("")]:[...n,[ae(e,t),":list=",ae(r,t)].join("")];case"comma":case"separator":case"bracket-separator":{const e=t.arrayFormat==="bracket-separator"?"[]=":"=";return n=>(r,i)=>i===void 0||t.skipNull&&i===null||t.skipEmptyString&&i===""?r:(i=i===null?"":i,r.length===0?[[ae(n,t),e,ae(i,t)].join("")]:[[r,ae(i,t)].join(t.arrayFormatSeparator)])}default:return e=>(n,r)=>r===void 0||t.skipNull&&r===null||t.skipEmptyString&&r===""?n:r===null?[...n,ae(e,t)]:[...n,[ae(e,t),"=",ae(r,t)].join("")]}}function lf(t){let e;switch(t.arrayFormat){case"index":return(n,r,i)=>{if(e=/\[(\d*)]$/.exec(n),n=n.replace(/\[\d*]$/,""),!e){i[n]=r;return}i[n]===void 0&&(i[n]={}),i[n][e[1]]=r};case"bracket":return(n,r,i)=>{if(e=/(\[])$/.exec(n),n=n.replace(/\[]$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"colon-list-separator":return(n,r,i)=>{if(e=/(:list)$/.exec(n),n=n.replace(/:list$/,""),!e){i[n]=r;return}if(i[n]===void 0){i[n]=[r];return}i[n]=[...i[n],r]};case"comma":case"separator":return(n,r,i)=>{const o=typeof r=="string"&&r.includes(t.arrayFormatSeparator),s=typeof r=="string"&&!o&&tt(r,t).includes(t.arrayFormatSeparator);r=s?tt(r,t):r;const a=o||s?r.split(t.arrayFormatSeparator).map(l=>tt(l,t)):r===null?r:tt(r,t);i[n]=a};case"bracket-separator":return(n,r,i)=>{const o=/(\[])$/.test(n);if(n=n.replace(/\[]$/,""),!o){i[n]=r&&tt(r,t);return}const s=r===null?[]:r.split(t.arrayFormatSeparator).map(a=>tt(a,t));if(i[n]===void 0){i[n]=s;return}i[n]=[...i[n],...s]};default:return(n,r,i)=>{if(i[n]===void 0){i[n]=r;return}i[n]=[...[i[n]].flat(),r]}}}function da(t){if(typeof t!="string"||t.length!==1)throw new TypeError("arrayFormatSeparator must be single character string")}function ae(t,e){return e.encode?e.strict?sf(t):encodeURIComponent(t):t}function tt(t,e){return e.decode?nf(t):t}function ha(t){return Array.isArray(t)?t.sort():typeof t=="object"?ha(Object.keys(t)).sort((e,n)=>Number(e)-Number(n)).map(e=>t[e]):t}function ga(t){const e=t.indexOf("#");return e!==-1&&(t=t.slice(0,e)),t}function uf(t){let e="";const n=t.indexOf("#");return n!==-1&&(e=t.slice(n)),e}function ps(t,e){return e.parseNumbers&&!Number.isNaN(Number(t))&&typeof t=="string"&&t.trim()!==""?t=Number(t):e.parseBooleans&&t!==null&&(t.toLowerCase()==="true"||t.toLowerCase()==="false")&&(t=t.toLowerCase()==="true"),t}function di(t){t=ga(t);const e=t.indexOf("?");return e===-1?"":t.slice(e+1)}function hi(t,e){e={decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1,...e},da(e.arrayFormatSeparator);const n=lf(e),r=Object.create(null);if(typeof t!="string"||(t=t.trim().replace(/^[?#&]/,""),!t))return r;for(const i of t.split("&")){if(i==="")continue;const o=e.decode?i.replace(/\+/g," "):i;let[s,a]=fa(o,"=");s===void 0&&(s=o),a=a===void 0?null:["comma","separator","bracket-separator"].includes(e.arrayFormat)?a:tt(a,e),n(tt(s,e),a,r)}for(const[i,o]of Object.entries(r))if(typeof o=="object"&&o!==null)for(const[s,a]of Object.entries(o))o[s]=ps(a,e);else r[i]=ps(o,e);return e.sort===!1?r:(e.sort===!0?Object.keys(r).sort():Object.keys(r).sort(e.sort)).reduce((i,o)=>{const s=r[o];return s&&typeof s=="object"&&!Array.isArray(s)?i[o]=ha(s):i[o]=s,i},Object.create(null))}function pa(t,e){if(!t)return"";e={encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:",",...e},da(e.arrayFormatSeparator);const n=s=>e.skipNull&&of(t[s])||e.skipEmptyString&&t[s]==="",r=af(e),i={};for(const[s,a]of Object.entries(t))n(s)||(i[s]=a);const o=Object.keys(i);return e.sort!==!1&&o.sort(e.sort),o.map(s=>{const a=t[s];return a===void 0?"":a===null?ae(s,e):Array.isArray(a)?a.length===0&&e.arrayFormat==="bracket-separator"?ae(s,e)+"[]":a.reduce(r(s),[]).join("&"):ae(s,e)+"="+ae(a,e)}).filter(s=>s.length>0).join("&")}function _a(t,e){var i;e={decode:!0,...e};let[n,r]=fa(t,"#");return n===void 0&&(n=t),{url:((i=n==null?void 0:n.split("?"))==null?void 0:i[0])??"",query:hi(di(t),e),...e&&e.parseFragmentIdentifier&&r?{fragmentIdentifier:tt(r,e)}:{}}}function va(t,e){e={encode:!0,strict:!0,[Ur]:!0,...e};const n=ga(t.url).split("?")[0]||"",r=di(t.url),i={...hi(r,{sort:!1}),...t.query};let o=pa(i,e);o&&(o=`?${o}`);let s=uf(t.url);if(t.fragmentIdentifier){const a=new URL(n);a.hash=t.fragmentIdentifier,s=e[Ur]?a.hash:`#${t.fragmentIdentifier}`}return`${n}${o}${s}`}function ma(t,e,n){n={parseFragmentIdentifier:!0,[Ur]:!1,...n};const{url:r,query:i,fragmentIdentifier:o}=_a(t,n);return va({url:r,query:rf(i,e),fragmentIdentifier:o},n)}function cf(t,e,n){const r=Array.isArray(e)?i=>!e.includes(i):(i,o)=>!e(i,o);return ma(t,r,n)}const _s=Object.freeze(Object.defineProperty({__proto__:null,exclude:cf,extract:di,parse:hi,parseUrl:_a,pick:ma,stringify:pa,stringifyUrl:va},Symbol.toStringTag,{value:"Module"})),{window:ya}=Ss;function vs(t){let e,n;return e=new Zc({props:{path:t[0],dataObj:t[2],screenSize:t[1]}}),{c(){rn(e.$$.fragment)},m(r,i){Dt(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.path=r[0]),i&4&&(o.dataObj=r[2]),i&2&&(o.screenSize=r[1]),e.$set(o)},i(r){n||(te(e.$$.fragment,r),n=!0)},o(r){ke(e.$$.fragment,r),n=!1},d(r){Lt(e,r)}}}function ff(t){let e,n,r,i;Ue(t[3]);let o=t[2]&&vs(t);return{c(){o&&o.c(),e=Ut()},m(s,a){o&&o.m(s,a),N(s,e,a),n=!0,r||(i=it(ya,"resize",t[3]),r=!0)},p(s,[a]){s[2]?o?(o.p(s,a),a&4&&te(o,1)):(o=vs(s),o.c(),te(o,1),o.m(e.parentNode,e)):o&&(un(),ke(o,1,1,()=>{o=null}),cn())},i(s){n||(te(o),n=!0)},o(s){ke(o),n=!1},d(s){s&&T(e),o&&o.d(s),r=!1,i()}}}function df(t,e,n){let r=location.pathname.replace(/[^/]*$/,""),i=window.innerWidth;window.location.hostname==="localhost"&&(r="/");let o=null;lr(()=>{s()});async function s(){const l=_s.parse(location.search).name?_s.parse(location.search).name:"label",u=`${r}data/${l}.json?${new Date().getTime()}`;await fetch(u,{headers:{"Content-Type":"application/json",Accept:"application/json"}}).then(async c=>{n(2,o=await c.json()),console.log(o)})}function a(){n(1,i=ya.innerWidth)}return[r,i,o,a]}class hf extends Wt{constructor(e){super(),zt(this,e,df,ff,Ft,{})}}new hf({target:document.getElementById("app")});
